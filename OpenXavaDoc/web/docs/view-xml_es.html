<html>
  <head>
    <title>openxava - view-xml_es</title>
    <link rel="stylesheet" href="static/style.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
<div id="toc"><h1 class="nopad">Table of Contents</h1><div style="margin-left: 1em;"><a href="#Capítulo 3: Vista XML (clásico)">Capítulo 3: Vista XML (clásico)</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Disposición">Disposición</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Disposición-Grupos">Grupos</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Disposición-Secciones">Secciones</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Disposición-Herencia de vistas (nuevo en v3.1.2)">Herencia de vistas (nuevo en v3.1.2)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Disposición-Filosofía para la disposición">Filosofía para la disposición</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista propiedad">Vista propiedad</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista propiedad-Formato de etiqueta">Formato de etiqueta</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista propiedad-Evento de cambio de valor">Evento de cambio de valor</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista propiedad-Acciones de la propiedad">Acciones de la propiedad</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista propiedad-Escoger un editor (propiedad, nuevo en v2.1.3)">Escoger un editor (propiedad, nuevo en v2.1.3)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista propiedad-Estilo de etiqueta (nuevo en v5.8)">Estilo de etiqueta (nuevo en v5.8)</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia">Vista referencia</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Escoger vista">Escoger vista</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Personalizar el enmarcado">Personalizar el enmarcado</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Acción de búsqueda propia">Acción de búsqueda propia</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Acción de creación propia">Acción de creación propia</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Acción de modificación propia (nuevo en v2.0.4)">Acción de modificación propia (nuevo en v2.0.4)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Lista descripciones (combos)">Lista descripciones (combos)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Búsqueda de referencia al cambiar (new in v2.2.5)">Búsqueda de referencia al cambiar (new in v2.2.5)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista referencia-Escoger un editor (referencia, nuevo in v3.1.3)">Escoger un editor (referencia, nuevo in v3.1.3)</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección">Vista colección</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Acción de editar/ver detalle propia">Acción de editar/ver detalle propia</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Acciones de lista y fila propias">Acciones de lista y fila propias</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Acciones de lista y fila por defecto (nuevo en v2.1.4)">Acciones de lista y fila por defecto (nuevo en v2.1.4)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Acciones de detalle propias">Acciones de detalle propias</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Refinar comportamiento por defecto para la vista de colección (nuevo en v2.0.2)">Refinar comportamiento por defecto para la vista de colección (nuevo en v2.0.2)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Acción cuando un elemento de la colección es seleccionado (nuevo en v3.1.2)">Acción cuando un elemento de la colección es seleccionado (nuevo en v3.1.2)</a></div>
<div style="margin-left: 3em;"><a href="#Capítulo 3: Vista XML (clásico)-Vista colección-Escoger un editor (colecciones, nuevo in v3.1.3)">Escoger un editor (colecciones, nuevo in v3.1.3)</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Propiedad de vista">Propiedad de vista</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Acciones de la vista (nuevo en v2.0.3)">Acciones de la vista (nuevo en v2.0.3)</a></div>
<div style="margin-left: 2em;"><a href="#Capítulo 3: Vista XML (clásico)-Componente transitorio: Solo para crear vistas (nuevo en v2.1.3)">Componente transitorio: Solo para crear vistas (nuevo en v2.1.3)</a></div>
</div>
<span class="wiki_link"><a class="wiki_link" href="introduction-xml_es.html">1.Introducción XML</a> | <a class="wiki_link" href="model-xml_es.html">2.Modelo XML</a> | <strong><span class="wiki_link">3.Vista XML</span></strong> | <a class="wiki_link" href="tab-xml_es.html">4.Tab XML</a> | <a class="wiki_link" href="mapping-xml_es.html">5.Mapeo XML</a> | <a class="wiki_link" href="aspects-xml_es.html">6.Aspectos XML</a></span><br />
<h1 id="toc0"><a name="Capítulo 3: Vista XML (clásico)"></a>Capítulo 3: Vista XML (clásico)</h1>
 OpenXava genera a partir del modelo una interfaz gráfica de usuario por defecto. Para muchos casos sencillos esto es suficiente, pero muchas veces es necesario modelar con más precisión la forma de la interfaz de usuario o vista. En este capítulo vamos a ver cómo.<br />
La sintaxis para definir una vista es:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span></span>
<span class="sc3">    <span class="re0">nombre</span>=<span class="st0">&quot;nombre&quot;</span>               &lt;!--  1 --<span class="re2">&gt;</span></span>
    etiqueta=&quot;etiqueta&quot;           <span class="sc-1">&lt;!--  2 --&gt;</span>
    modelo=&quot;modelo&quot;               <span class="sc-1">&lt;!--  3 --&gt;</span>
    miembros=&quot;miembros&quot;           <span class="sc-1">&lt;!--  4 --&gt;</span>
    hereda-de=&quot;vista&quot;             <span class="sc-1">&lt;!--  5  Nuevo en v3.1.2 --&gt;</span>
&gt;
    <span class="sc3"><span class="re1">&lt;propiedad</span> ... <span class="re2">/&gt;</span></span> ...         <span class="sc-1">&lt;!--  6 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;vista-propiedad</span> ... <span class="re2">/&gt;</span></span> ...   <span class="sc-1">&lt;!--  7 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;vista-referencia</span> ... <span class="re2">/&gt;</span></span> ...  <span class="sc-1">&lt;!--  8 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;vista-coleccion</span> ... <span class="re2">/&gt;</span></span> ...   <span class="sc-1">&lt;!--  9 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;miembros</span> ... <span class="re2">/&gt;</span></span> ...          <span class="sc-1">&lt;!-- 10 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

<ol><li><strong>nombre</strong> (opcional): El nombre identifica a la vista, y puede ser usado desde otro lugares de OpenXava (por ejemplo desde <em>aplicacion.xml</em>) o desde otro componente. Si no se pone nombre se asume que es la vista por defecto, es decir la forma normal de visualizar el objeto. Si el nombre es <em>Simple</em> o <em>Search</em> esta vista se usará por defecto para crear el diálogo de búsqueda <em>(desde v4m4)</em>.</li><li><strong>etiqueta</strong> (opcional): Etiqueta que se muestra al usuario si es necesario, cuando se visualiza la vista. Es mucho mejor usar los archivos i18n.</li><li><strong>modelo</strong> (opcional): Si es una vista de un agregado de este componente se pone aquí el nombre del agregado. Si no se pone nada se supone que es una vista de la entidad.</li><li><strong>miembros</strong> (opcional): Lista de miembros a visualizar. Por defecto visualiza todos los miembros no ocultos en el orden en que están declarados en el modelo. Este atributo es excluyente con el elemento miembros visto más adelante.</li><li><strong>hereda-de</strong> (opcional): <em>(Nuevo en v3.1.2)</em> Todos los miembros en la vista <em>hereda-de</em> se incluyen automáticamente en la actual. Véase <a class="wiki_link" href="view-xml_es.html#toc4">herencia de vistas</a>.</li><li><strong>propiedad</strong> (varios, opcional): Permite definir propiedades de la vista, es decir, información que se puede visualizar de cara al usuario y tratar programáticamente, pero no forma parte del modelo.</li><li><strong>vista-propiedad</strong> (varias, opcional): Para definir la forma en que queremos que se visualice cierta propiedad.</li><li><strong>vista-referencia</strong> (varias, opcional): Para definir la forma en que queremos que se visualice cierta referencia.</li><li><strong>vista-coleccion</strong> (varias, opcional): Para definir la forma en que queremos que se visualice cierta colección.</li><li><strong>miembros</strong> (uno, opcional): Indica los miembros que tienen que salir y como tienen que estar dispuestos en la interfaz gráfica. Es excluyente con el atributo miembros. Dentro de miembros podemos usar los elementos <a class="wiki_link" href="view-xml_es.html#toc3">seccion</a> y <a class="wiki_link" href="view-xml_es.html#toc2">grupo</a> para indicar la disposición; o el elemento accion <em>(desde v2.0.3)</em> para mostrar un vínculo asociado a una acción propia dentro de la vista (ver <a class="wiki_link" href="view-xml_es.html#toc27">abajo</a>).</li></ol><h2 id="toc1"><a name="Capítulo 3: Vista XML (clásico)-Disposición"></a>Disposición</h2>
 Por defecto (es decir si no definimos ni siquiera el elemento <em>&lt;view/&gt;</em> en nuestro componente) se visualizan todos los miembros del objeto en el orden en que están en el modelo, y se disponen uno debajo del otro.<br />
Por ejemplo, un modelo así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;entidad<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;propiedad</span> <span class="re0">nombre</span>=<span class="st0">&quot;codigoZona&quot;</span> <span class="re0">clave</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">longitud</span>=<span class="st0">&quot;3&quot;</span> <span class="re0">requerido</span>=<span class="st0">&quot;true&quot;</span> <span class="re0">tipo</span>=<span class="st0">&quot;int&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;propiedad</span> <span class="re0">nombre</span>=<span class="st0">&quot;codigoOficina&quot;</span> <span class="re0">clave</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">longitud</span>=<span class="st0">&quot;3&quot;</span> <span class="re0">requerido</span>=<span class="st0">&quot;true&quot;</span> <span class="re0">tipo</span>=<span class="st0">&quot;int&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;propiedad</span> <span class="re0">nombre</span>=<span class="st0">&quot;codigo&quot;</span> <span class="re0">clave</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">longitud</span>=<span class="st0">&quot;3&quot;</span> <span class="re0">requerido</span>=<span class="st0">&quot;true&quot;</span> <span class="re0">tipo</span>=<span class="st0">&quot;int&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;propiedad</span> <span class="re0">nombre</span>=<span class="st0">&quot;nombre&quot;</span> <span class="re0">tipo</span>=<span class="st0">&quot;String&quot;</span></span>
<span class="sc3">        <span class="re0">longitud</span>=<span class="st0">&quot;40&quot;</span> <span class="re0">requerido</span>=<span class="st0">&quot;true&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/entidad<span class="re2">&gt;</span></span></span></pre>

Generaría una vista con este aspecto:<br />
<img src="files/view_es010.jpg" alt="view_es010.jpg" title="view_es010.jpg" /><br />
Podemos escoger que miembros queremos que aparezcan y en que orden, con el atributo miembros:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">miembros</span>=<span class="st0">&quot;codigoZona; codigoOficina; codigo&quot;</span><span class="re2">/&gt;</span></span></pre>

En este caso ya no aparece el nombre en la vista.<br />
Los miembros también se pueden especificar mediante el elemento miembros que es excluyente con el atributo miembros, así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        codigoZona, codigoOficina, codigo;
        nombre
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

Podemos observar como separamos los nombres de miembros con comas y punto y comas, esto nos sirve para indicar la disposición, con la coma el miembro se pone a continuación, y con punto y coma en la línea siguiente, esto es la vista anterior quedaría así:<br />
<img src="files/view_es020.jpg" alt="view_es020.jpg" title="view_es020.jpg" /><br />
<h3 id="toc2"><a name="Capítulo 3: Vista XML (clásico)-Disposición-Grupos"></a>Grupos</h3>
 Con los grupos podemos agrupar un conjunto de propiedades relacionadas, y esto tiene un efecto visual:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;id&quot;</span><span class="re2">&gt;</span></span>
            codigoZona, codigoOficina, codigo
        <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
        ; nombre
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

En este caso el resultado sería:<br />
<img src="files/view_es030.jpg" alt="view_es030.jpg" title="view_es030.jpg" /><br />
Se puede observar como las tres propiedades puestas en el grupo aparecen dentro de un marquito, y como nombre aparece fuera. El punto y coma antes de nombre es para que aparezca abajo, si no aparecería a continuación.<br />
Podemos poner varios grupos en una vista:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;cliente&quot;</span><span class="re2">&gt;</span></span>
    tipo;
    nombre;
<span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;comercial&quot;</span><span class="re2">&gt;</span></span>
    comercial;
    relacionConComercial;
<span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span></pre>

En este caso se visualizan uno al lado del otro:<br />
<img src="files/view_es035.jpg" alt="view_es035.jpg" title="view_es035.jpg" /><br />
Si queremos que aparezca uno debajo del otro debemos poner un punto y coma después del grupo, como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;cliente&quot;</span><span class="re2">&gt;</span></span>
    tipo;
    nombre;
<span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>;
<span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;comercial&quot;</span><span class="re2">&gt;</span></span>
    comercial;
    relacionConComercial;
<span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span></pre>

En este caso se visualizaría así:<br />
<img src="files/view_es040.jpg" alt="view_es040.jpg" title="view_es040.jpg" /><br />
Anidar grupos está soportado. Esta interesante característica permite disponer los elementos de la interfaz gráfica de una forma simple y flexible. Por ejemplo, si definimos una vista como ésta:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
    factura;
    <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;datosAlbaran&quot;</span><span class="re2">&gt;</span></span>
        tipo, codigo;
        fecha;
        descripcion;
        envio;
        <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;datosTransporte&quot;</span><span class="re2">&gt;</span></span>
            distancia; vehiculo; modoTransporte; tipoConductor;
        <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;datosEntregadoPor&quot;</span><span class="re2">&gt;</span></span>
            entregadoPor;
            transportista;
            empleado;
        <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span></pre>

Obtendremos lo siguiente:<br />
<img src="files/view_es050.jpg" alt="view_es050.jpg" title="view_es050.jpg" /><br />
<em>Nuevo en v2.0.4:</em> A veces es útil distribuir los miembros alineándolos por columnas, como en una tabla. Por ejemplo, la siguiente vista:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Importes&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        año, numero;
        <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;importes&quot;</span><span class="re2">&gt;</span></span>
            descuentoCliente, descuentoTipoCliente, descuentoAño;
            sumaImportes, porcentajeIVA, iva;
        <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

...será visualizada como sigue:<br />
<img src="files/view_es060.jpg" alt="view_es060.jpg" title="view_es060.jpg" /><br />
Esto es feo. Sería mejor tener la información alineada por columnas. Podemos definir el grupo de esta forma:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Importes&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        año, numero;
        <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;importes&quot;</span> <span class="re0">alineado-por-columnas</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span>    <span class="sc-1">&lt;!-- 1 --&gt;</span>
            descuentoCliente, descuentoTipoCliente, descuentoAño;
            sumaImportes, porcentajeIVA, iva;
        <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

Y así obtendríamos el siguiente resultado:<br />
<img src="files/view_es070.jpg" alt="view_es070.jpg" title="view_es070.jpg" /><br />
Ahora, gracias al atributo <em>alineado-por-columnas</em> (1), los miembros están alineado por columnas.<br />
El atributo <em>alineado-por-columnas</em> está disponible también para las secciones (ver abajo) y para <em>miembros</em>, es decir para la vista raíz <em>(nuevo en v4.7.1)</em>. Además, si ponemos <em>alignedByColumns=true (nuevo en v4.7.1)</em> en <em>xava.properties</em> todos los elementos se alinean por columna incluso si no especificamos <em>alineado-por-columnas</em> en la vista.<br />
<h3 id="toc3"><a name="Capítulo 3: Vista XML (clásico)-Disposición-Secciones"></a>Secciones</h3>
 Además de en grupo los miembros se pueden organizar en secciones, veamos un ejemplo en el componente <em>Factura</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        año, numero, fecha, pagada;
        descuentoCliente, descuentoTipoCliente, descuentoAño;
        comentario;
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;cliente&quot;</span><span class="re2">&gt;</span></span>cliente<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;lineas&quot;</span><span class="re2">&gt;</span></span>lineas<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;importes&quot;</span><span class="re2">&gt;</span></span>sumaImportes; porcentajeIVA; iva<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;albaranes&quot;</span><span class="re2">&gt;</span></span>albaranes<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

El resultado visual sería:<br />
<img src="files/view_es080.jpg" alt="view_es080.jpg" title="view_es080.jpg" /><br />
Las secciones se convierten en pestañitas que el usuario puede pulsar para ver la información contenida en esa sección. Podemos observar también como en la vista indicamos todo tipo de miembros (y no solo propiedades), así cliente es una referencia, lineas una colección de agregados y albaranes una colección de referencias a entidad.<br />
Se permiten secciones anidadas <em>(nuevo en v2.0)</em>. Por ejemplo, podemos definir una vista como ésta:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;SeccionesAnidadas&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        año, numero
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;cliente&quot;</span><span class="re2">&gt;</span></span>cliente<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;datos&quot;</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;lineas&quot;</span><span class="re2">&gt;</span></span>lineas<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;seccion</span> nombre<span class="st0">&quot;cantidades&quot;</span><span class="re2">&gt;</span></span>
                <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;iva&quot;</span><span class="re2">&gt;</span></span>porcentajeIVA; iva<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
                <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;sumaImportes&quot;</span><span class="re2">&gt;</span></span>sumaImportesm<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;albaranes&quot;</span><span class="re2">&gt;</span></span>albaranes<span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

En este caso podemos obtener una interfaz gráfica como esta:<br />
<img src="files/view_es090.jpg" alt="view_es090.jpg" title="view_es090.jpg" /><br />
<em>Nuevo en v2.0.4:</em> Al igual que en los grupos, las secciones permiten usar el atributo <em>alineado-por-columna</em>, así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;seccion</span> <span class="re0">nombre</span>=<span class="st0">&quot;importes&quot;</span> <span class="re0">alineado-por-columnas</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span> ... <span class="sc3"><span class="re1">&lt;/seccion<span class="re2">&gt;</span></span></span></pre>

Con el mismo efecto que en el caso de los <a class="wiki_link" href="view-xml_es.html#toc2">grupos</a>.<br />
<h3 id="toc4"><a name="Capítulo 3: Vista XML (clásico)-Disposición-Herencia de vistas (nuevo en v3.1.2)"></a>Herencia de vistas <em>(nuevo en v3.1.2)</em></h3>
 Al definir una nueva vista podemos heredar los miembros y disposición de una vista ya existente. De esta manera, evitamos copiar y pegar, y al mismo tiempo mantenemos nuestro código breve y fácil de cambiar.<br />
Esto se hace mediante <em>hereda-de</em>. Por ejemplo, si tenemos una vista como la siguiente:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;MuySimple&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>nombre, sexo<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

Esto produce la siguiente interfaz de usuario:<br />
<img src="files/view_es092.jpg" alt="view_es092.jpg" title="view_es092.jpg" /><br />
Si ahora queremos crear una nueva vista que extienda de esta simplemente hemos de escribir:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Simple&quot;</span> <span class="re0">hereda-de</span>=<span class="st0">&quot;MuySimple&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>lenguajePrincipal<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

y obtendremos lo siguiente:<br />
<img src="files/view_es094.jpg" alt="view_es094.jpg" title="view_es094.jpg" /><br />
Como vemos los miembros de la vista <em>MuySimple</em> se incluyen automáticamente en la vista <em>Simple</em>, y los miembros propios de la vista se añaden al final.<br />
Si queremos extender la vista por defecto (la vista por defecto es la vista sin nombre) hemos de usar la palabra DEFAULT como nombre en <em>hereda-de</em>. Como en este ejemplo:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
        nombre, sexo;
        lenguajePrincipal, marcoTrabajoFavorito;
        experiencias
    <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span>
&nbsp;
<span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Completa&quot;</span> <span class="re0">hereda-de</span>=<span class="st0">&quot;DEFAULT&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>marcosTrabajo<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span>
&nbsp;</pre>

La vista <em>Completa</em> tendrá todos los miembros de la vista por defecto (<em>nombre, sexo, lenguajePrincipal, marcoTrabajoFavorito, experiencias</em>) más <em>marcosTrabajo</em>.<br />
La herencia de vistas solo aplica a los miembros y su distribución. Las acciones, eventos y otros refinamiento a nivel de miembro no se heredan.<br />
<h3 id="toc5"><a name="Capítulo 3: Vista XML (clásico)-Disposición-Filosofía para la disposición"></a>Filosofía para la disposición</h3>
 Es de notar tenemos grupos y no marcos y secciones y no pestañas. Porque en las vista de OpenXava intentamos mantener un nivel de abstracción alto, es decir, un grupo es un conjunto de propiedades relacionadas semánticamente, y las secciones nos permite dividir la información en partes cuando tenemos mucha y posiblemente no se pueda visualizar toda a la vez, el que los grupos se representen con marquitos y las secciones con pestañas es una cuestión de implementación, pero el generador del interfaz gráfico podría escoger usar un árbol u otro control gráfico para representar las secciones, por ejemplo.<br />
<h2 id="toc6"><a name="Capítulo 3: Vista XML (clásico)-Vista propiedad"></a>Vista propiedad</h2>
 Con <em>&lt;vista-propiedad/&gt;</em> podemos refinar la forma de visualización y comportamiento de una propiedad en la vista:<br />
Tiene esta sintaxis:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-propiedad</span></span>
<span class="sc3">    <span class="re0">propiedad</span>=<span class="st0">&quot;nombrePropiedad&quot;</span>                     &lt;!-- 1 --<span class="re2">&gt;</span></span>
    etiqueta=&quot;etiqueta&quot;                             <span class="sc-1">&lt;!-- 2 --&gt;</span>
    solo-lectura=&quot;true|false&quot;                       <span class="sc-1">&lt;!-- 3 --&gt;</span>
    formato-etiqueta=&quot;NORMAL|PEQUENA|SIN_ETIQUETA&quot;  <span class="sc-1">&lt;!-- 4 --&gt;</span>
    editor=&quot;nombreEditor&quot;                           <span class="sc-1">&lt;!-- 5  nuevo en v2.1.3 --&gt;</span>
    longitud-visual=&quot;longitud&quot;                      <span class="sc-1">&lt;!-- 6  nuevo en v2.2.1 --&gt;</span>
    estilo-etiqueta=&quot;estilo&quot;                        <span class="sc-1">&lt;!-- 7  nuevo en v5.8   --&gt;</span>
&gt;
    <span class="sc3"><span class="re1">&lt;al-cambiar</span> ... <span class="re2">/&gt;</span></span>                              <span class="sc-1">&lt;!-- 8 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion</span> ... <span class="re2">/&gt;</span></span> ...                              <span class="sc-1">&lt;!-- 9 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/vista-propiedad<span class="re2">&gt;</span></span></span></pre>

<ol><li><strong>propiedad</strong> (obligado): Normalmente el nombre de una propiedad del modelo, aunque también puede ser el nombre de una propiedad propia de la vista.</li><li><strong>etiqueta</strong> (opcional): Para modificar la etiqueta que se sacará en esta vista para esta propiedad. Para esto es mucho mejor usar los archivos i18n.</li><li><strong>solo-lectura</strong> (opcional): Si la ponemos a true esta propiedad no será nunca editable por el usuario en esta vista. Una alternativa a esto es hacer la propiedad editable/no editable programáticamente usando <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">org.openxava.view.View</a></em>.</li><li><strong>formato-etiqueta</strong> (opcional): Forma en que se visualiza la etiqueta para esta propiedad.</li><li><strong>editor</strong> (opcional): <em>(Nuevo en v2.1.3)</em> Nombre del editor a usar para visualizar la propiedad en esta vista. El editor tiene que estar declarado en <em>OpenXava/xava/default-editors.xml</em> o <em>xava/editores.xml</em> de nuestro proyecto.</li><li><strong>longitud-visual</strong> (opcional): <em>(Nuevo en v2.2.1)</em> La longitud en caracteres del editor en la interfaz de usuario usado para visualizar esta propiedad. El editor mostrará solo los caracteres indicados con longitud-visual pero permite que el usuario introduzca hasta el total de la longitud de la propiedad. Si <em>longitud-visual</em> no se especifica se asume el valor de la longitud de la propiedad.</li><li><strong>estilo-etiqueta</strong> (opcional): (<em>Nuevo en v5.8</em>) Estilo con el que se visualiza la etiqueta para esta propiedad. Por defecto están definidos los estilos 'bold-label', 'italic-label' y 'reverse-label'; cualquier otro estilo puede ser definido por el propio usuario (basta con incluirlo en custom.css).</li><li><strong>al-cambiar</strong> (uno, opcional): Acción a realizar cuando cambia el valor de esta propiedad.</li><li><strong>accion</strong> (varias, opcional): Acciones (mostradas como vínculos, botones o imágenes al usuario) asociadas (visualmente) a esta propiedad y que el usuario final puede ejecutar.</li></ol><h3 id="toc7"><a name="Capítulo 3: Vista XML (clásico)-Vista propiedad-Formato de etiqueta"></a>Formato de etiqueta</h3>
 Un ejemplo sencillo para cambiar el formato de la etiqueta:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">modelo</span>=<span class="st0">&quot;Direccion&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;vista-propiedad</span> <span class="re0">propiedad</span>=<span class="st0">&quot;codigoPostal&quot;</span> <span class="re0">formato-etiqueta</span>=<span class="st0">&quot;PEQUENA&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

En este caso el código postal lo visualiza así:<br />
<img src="files/view_es100.jpg" alt="view_es100.jpg" title="view_es100.jpg" /><br />
El formato NORMAL es el que hemos visto hasta ahora (con la etiqueta grande y la izquierda) y el formato SIN_ETIQUETA simplemente hace que no salga etiqueta.<br />
<h3 id="toc8"><a name="Capítulo 3: Vista XML (clásico)-Vista propiedad-Evento de cambio de valor"></a>Evento de cambio de valor</h3>
 Si queremos reaccionar al evento de cambio de valor de una propiedad podemos poner:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-propiedad</span> <span class="re0">propiedad</span>=<span class="st0">&quot;transportista.codigo&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;al-cambiar</span> <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.AlCambiarTransportistaEnAlbaran&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-propiedad<span class="re2">&gt;</span></span></span></pre>

Podemos observar como la propiedad puede ser calificada, es decir en este caso reaccionamos al cambio del código del transportista (que es una referencia).<br />
El código que se ejecutará será:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> AlCambiarTransportistaEnAlbaran
    <span class="kw2">extends</span> OnChangePropertyBaseAction <span class="br0">&#123;</span>              <span class="co1">// 1</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>getNewValue<span class="br0">&#40;</span><span class="br0">&#41;</span> == <span class="kw4">null</span><span class="br0">&#41;</span> <span class="kw2">return</span><span class="sy0">;</span>            <span class="co1">// 2</span>
        getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setValue</span><span class="br0">&#40;</span><span class="st0">&quot;observaciones&quot;</span>,           <span class="co1">// 3</span>
            <span class="st0">&quot;El transportista es &quot;</span> + getNewValue<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        addMessage<span class="br0">&#40;</span><span class="st0">&quot;transportista_cambiado&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

La acción ha implementar <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IOnChangePropertyAction.html" rel="nofollow">IOnChangePropertyAction</a></em> aunque es más cómodo hacer que descienda de <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/OnChangePropertyBaseAction.html" rel="nofollow">OnChangePropertyBaseAction</a></em> (1). Dentro de la acción tenemos disponible <em>getNewValue()</em> (2) que proporciona el nuevo valor que ha introducido el usuario, y <em>getView()</em> (3) que nos permite acceder programáticamente a la vista (cambiar valores, ocultar miembros, hacerlos editables, o lo que queramos).<br />
<h3 id="toc9"><a name="Capítulo 3: Vista XML (clásico)-Vista propiedad-Acciones de la propiedad"></a>Acciones de la propiedad</h3>
 También podemos especificar acciones que el usuario puede pulsar directamente:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-propiedad</span> <span class="re0">propiedad</span>=<span class="st0">&quot;numero&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">accion</span>=<span class="st0">&quot;Albaranes.generarNumero&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-propiedad<span class="re2">&gt;</span></span></span></pre>

En este caso en vez de la clase de la acción se pone un identificador que consiste en el nombre de controlador y nombre de acción. Esta acción ha de estar registrada en <em>controladores.xml</em> de la siguiente forma:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;Albaranes&quot;</span><span class="re2">&gt;</span></span>
    ...
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;generarNumero&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.GenerarNumeroAlbaran&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
    ...
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

Las acciones se visualizan con un vínculo o imagen al lado del editor de la propiedad. Como sigue:<br />
<img src="files/view_es110.jpg" alt="view_es110.jpg" title="view_es110.jpg" /><br />
Por defecto el vínculo de la acción aparece solo cuando la propiedad es editable, ahora bien si la propiedad es de <em>solo-lectura</em> o calculada entonces está siempre disponible. Podemos usar el atributo <em>siempre-activa</em> <em>(nuevo v2.0.3)</em> a true para que el vínculo esté siempre presente, incluso si la propiedad no es editable. Como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">accion</span>=<span class="st0">&quot;Albaranes.generarNumero&quot;</span> <span class="re0">siempre-activa</span>=<span class="st0">&quot;true&quot;</span><span class="re2">/&gt;</span></span></pre>

El atributo <em>siempre-activa</em> es opcional y su valor por defecto es false.<br />
El código de la acción anterior es:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> GenerarNumeroAlbaran <span class="kw2">extends</span> ViewBaseAction <span class="br0">&#123;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setValue</span><span class="br0">&#40;</span><span class="st0">&quot;numero&quot;</span>, <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Integer.html"><span class="kw21">Integer</span></a><span class="br0">&#40;</span><span class="nu0">77</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

Una implementación simple pero ilustrativa. Se puede usar cualquier acción definida en <em>controladores.xml</em> y su funcionamiento es el normal para una acción OpenXava. En el capítulo sobre <a class="wiki_link" href="controllers_es.html">controladores</a> veremos más detalles sobre las acciones.<br />
Opcionalmente podemos hacer nuestra acción una <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IPropertyAction.html" rel="nofollow">IPropertyAction</a></em> <em>(nuevo v2.0.2)</em> (esto está disponible solo para acciones usadas en <em>&lt;vista-propiedad/&gt;</em>), the esta forma la vista contenedora y el nombre de la propiedad son inyectados en la acción por OpenXava. La clase de la acción anterior se podría reescribir así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
<span class="kw2">import</span> <span class="co2">org.openxava.view.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> GenerarNumeroAlbaran
    <span class="kw2">extends</span> BaseAction
    <span class="kw2">implements</span> IPropertyAction <span class="br0">&#123;</span>                   <span class="co1">// 1</span>
    <span class="kw2">private</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/javax/swing/text/View.html"><span class="kw116">View</span></a> view<span class="sy0">;</span>
    <span class="kw2">private</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/String.html"><span class="kw21">String</span></a> property<span class="sy0">;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        view.<span class="me1">setValue</span><span class="br0">&#40;</span>property, <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Integer.html"><span class="kw21">Integer</span></a><span class="br0">&#40;</span><span class="nu0">77</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1">// 2</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> setProperty<span class="br0">&#40;</span><a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/String.html"><span class="kw21">String</span></a> property<span class="br0">&#41;</span> <span class="br0">&#123;</span>     <span class="co1">// 3</span>
        <span class="kw2">this</span>.<span class="me1">property</span> = property<span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw2">public</span> <span class="kw3">void</span> setView<span class="br0">&#40;</span><a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/javax/swing/text/View.html"><span class="kw116">View</span></a> view<span class="br0">&#41;</span> <span class="br0">&#123;</span>               <span class="co1">// 4</span>
        <span class="kw2">this</span>.<span class="me1">view</span> = view<span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>

Esta acción implementa <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IPropertyAction.html" rel="nofollow">IPropertyAction</a></em> (1), esto requiere que la clase tenga los métodos <em>setProperty()</em> (3) y <em>setView()</em> (4), estos valores serán inyectados en la acción antes de llamar al método <em>execute()</em>, donde pueden ser usados (2). En este caso no necesitas inyectar el objeto <em>xava_view</em> al definir la acción en <em>controladores.xml</em>. La vista inyectada por <em>setView()</em> (4) es la vista más interna que contiene la propiedad, por ejemplo, si la propiedad está dentro de un agregado es la vista de ese agregado, no la vista principal del módulo. De esta manera podemos escribir acciones más reutilizables.<br />
<h3 id="toc10"><a name="Capítulo 3: Vista XML (clásico)-Vista propiedad-Escoger un editor (propiedad, nuevo en v2.1.3)"></a>Escoger un editor (propiedad<em>, nuevo en v2.1.3</em>)</h3>
 Un editor visualiza la propiedad al usuario y le permite editar su valor. OpenXava usa por defecto el editor asociado al estereotipo o tipo de la propiedad, pero podemos especificar un editor concreto para visualizar una propiedad en una vista.<br />
Por ejemplo, OpenXava usa un combo para editar las propiedades de tipo <em>valores-posibles</em>, pero si queremos visualizar una propiedad de este tipo en alguna vista concreta usando un radio button podemos definir esa vista de esta forma:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;TipoConRadioButton&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;vista-propiedad</span> <span class="re0">propiedad</span>=<span class="st0">&quot;tipo&quot;</span> <span class="re0">editor</span>=<span class="st0">&quot;ValidValuesRadioButton&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>codigo; tipo; nombre; direccion<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

En este caso para visualizar/editar se usará el editor <em>ValidValuesRadioButton</em>, en lugar de del editor por defecto. <em>ValidValueRadioButton</em> está definido en <em>OpenXava/xava/default-editors.xml</em> como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;editor</span> <span class="re0">name</span>=<span class="st0">&quot;ValidValuesRadioButton&quot;</span> <span class="re0">url</span>=<span class="st0">&quot;radioButtonEditor.jsp&quot;</span><span class="re2">/&gt;</span></span></pre>

Este editor está incluido con OpenXava, pero nosotros podemos crear nuestro propios editores con nuestro propios JSPs y declararlos en el archivo <em>xava/editores.xml</em> de nuestro proyecto.<br />
Esta característica es para cambiar el editor solo en una vista. Si lo que se pretende es cambiar el editor para un estereotipo, tipo o una propiedad de un modelo a nivel de aplicación entonces lo mejor es configurarlo usando el archivo <em>xava/editors.xml</em>.<br />
<h3 id="toc11"><a name="Capítulo 3: Vista XML (clásico)-Vista propiedad-Estilo de etiqueta (nuevo en v5.8)"></a>Estilo de etiqueta (<em>nuevo en v5.8</em>)</h3>
 Si definimos la vista de una propiedad así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;vista-propiedad</span> <span class="re0">propiedad</span>=<span class="st0">&quot;numero&quot;</span> <span class="re0">estilo-etiqueta</span>=<span class="st0">&quot;italic-label red-label&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

Obtendremos:<br />
<img src="files/estilo-etiqueta-xml.GIF" alt="estilo-etiqueta-xml.GIF" title="estilo-etiqueta-xml.GIF" /><br />
El estilo lo podemos definir en nuestro fichero <em>web/xava/style/custom.css</em>, en nuestro ejemplo hemos añadido:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml">.red-label{
    color: red;
    font-weight:bold;
}</pre>

<h2 id="toc12"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia"></a>Vista referencia</h2>
 Con <em>&lt;vista-referencia/&gt;</em> modificamos la forma en que se visualiza una referencia.<br />
Su sintaxis es:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span></span>
<span class="sc3">    <span class="re0">referencia</span>=<span class="st0">&quot;referencia&quot;</span>           &lt;!--  1 --<span class="re2">&gt;</span></span>
    vista=&quot;vista&quot;                     <span class="sc-1">&lt;!--  2 --&gt;</span>
    solo-lectura=&quot;true|false&quot;         <span class="sc-1">&lt;!--  3 --&gt;</span>
    marco=&quot;true|false&quot;                <span class="sc-1">&lt;!--  4 --&gt;</span>
    crear=&quot;true|false&quot;                <span class="sc-1">&lt;!--  5 --&gt;</span>
    modificar=&quot;true|false&quot;            <span class="sc-1">&lt;!--  6  nuevo en v2.0.4 --&gt;</span>
    buscar=&quot;true|false&quot;               <span class="sc-1">&lt;!--  7 --&gt;</span>
    como-agregado=&quot;true|false&quot;        <span class="sc-1">&lt;!--  8  nuevo en v2.0.3 --&gt;</span>
    editor=&quot;nombreEditor&quot;             <span class="sc-1">&lt;!--  9  nuevo en v3.1.3 --&gt;</span>
    plegada=&quot;true|false&quot;              <span class="sc-1">&lt;!-- 10  nuevo en v2.0.4 --&gt;</span>
&gt;
    <span class="sc3"><span class="re1">&lt;condicion-lista-busqueda</span> ... <span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- 11  nuevo en v4m4 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;busqueda-al-cambiar</span> ... <span class="re2">/&gt;</span></span>       <span class="sc-1">&lt;!-- 12  nuevo en v2.2.5 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-buscar</span> ... <span class="re2">/&gt;</span></span>             <span class="sc-1">&lt;!-- 13 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;lista-descriptiones</span> ... <span class="re2">/&gt;</span></span>       <span class="sc-1">&lt;!-- 14 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion</span> ... <span class="re2">/&gt;</span></span> ...                <span class="sc-1">&lt;!-- 15  nuevo en v2.0.1 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span></pre>

<ol><li><strong>referencia</strong> (obligado): Nombre de la referencia del modelo de la que se quiere personalizar la visualización.</li><li><strong>vista</strong> (opcional): Si omitimos este atributo usa la vista por defecto del objeto referenciado para visualizarlo, con este atributo podemos indicar que use otra vista.</li><li><strong>solo-lectura</strong> (opcional): Si la ponemos a true esta referencia no será nunca editable por el usuario en esta vista. Una alternativa a esto es hacer la propiedad editable/no editable programáticamente usando <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">org.openxava.view.View</a></em>.</li><li><strong>marco</strong> (opcional): Si el dibujador de la interfaz gráfica usa un marco para envolver todos los datos de la referencia con este atributo se puede indicar que dibuje o no ese marco, por defecto sí que sacará el marco.</li><li><strong>crear</strong> (opcional): Indica si el usuario ha de tener opción para crear o no un nuevo objeto del tipo referenciado. Por defecto vale true.</li><li><strong>modificar</strong> (opcional): <em>(Nuevo en v2.0.4)</em> Indica si el usuario ha de tener opción para modificar o no el objeto actualmente referenciado. Por defecto vale true.</li><li><strong>buscar</strong> (opcional): Indica si el usuario va a tener un vínculo para poder realizar búsquedas con una lista, filtros, etc. Por defecto vale true.</li><li><strong>como-agregado</strong> (opcional): <em>(Nuevo en v2.0.3)</em> Por defecto false. Por defecto en el caso de una referencia a un agregado el usuario puede crear y editar sus datos, mientras que en el caso de una referencia a una entidad el usuario escoge una entidad existente. Si ponemos <em>como-agregado</em> a true entonce la interfaz de usuario para referencias a entidad se comporta como en el caso de los agregados, permitiendo al usuario crear un nuevo objeto y editar sus datos directamente. No tiene efecto en el caso de una referencia a agregado. ¡Ojo! Si borramos una entidad sus entidades referenciadas no se borran, incluso si estamos usando <em>como-agregado=&quot;true&quot;</em>.</li><li><strong>editor</strong> (opcional): <em>(Nuevo en v3.1.3)</em> Nombre del editor a usar para visualizar la referencia en esta vista. El editor tiene que estar declarado en <em>OpenXava/xava/default-editors.xml</em> o <em>xava/editores.xml</em> de nuestro proyecto.</li><li><strong>plegada</strong> (opcional): <em>(Nuevo en v5.0)</em> La referencia se mostrará contraída. Visualmente significa que el marco que rodea a la vista de la referencia se iniciará cerrado. Más tarde el usuario podrá establecer sus preferencias haciendo clic en el icono de expansión. Por defecto vale false.</li><li><strong>condicion-lista-busqueda</strong> (una, opcional): <em>(Nuevo en v4m4)</em> Condición a usar para la lista de elementos seleccionable susceptibles de ser asignados a la referencia.</li><li><strong>busqueda-al-cambiar</strong> (una, opcional): <em>(Nuevo en v2.2.5)</em> Nos permite especificar nuestra propia acción de búsqueda cuando el usuario teclea una clave nueva.</li><li><strong>accion-buscar</strong> (una, opcional): Nos permite especificar nuestra propia acción de búsqueda cuando el usuario pulsa en el vínculo para buscar.</li><li><strong>lista-descripciones</strong>: Permite visualizar los datos como una lista descripciones, típicamente un combo. Práctico cuando hay pocos elementos del objeto referenciado.</li><li><strong>accion</strong> (varias, opcional): <em>(Nuevo en v2.0.1)</em> Acciones (mostradas como vínculos, botones o imágenes al usuario) asociadas (visualmente) a esta referencia y que el usuario final puede ejecutar. Funciona como ene <em><a class="wiki_link" href="view-xml_es.html#toc9">el caso de vista-propiedad</a></em>.</li></ol>Si no usamos <em>&lt;vista-referencia/&gt;</em> OpenXava dibuja la referencia usando su vista por defecto. Por ejemplo si tenemos una referencia así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;entidad<span class="re2">&gt;</span></span></span>
...
    <span class="sc3"><span class="re1">&lt;referencia</span> <span class="re0">nombre</span>=<span class="st0">&quot;familia&quot;</span> <span class="re0">modelo</span>=<span class="st0">&quot;Familia&quot;</span> <span class="re0">requerido</span>=<span class="st0">&quot;true&quot;</span><span class="re2">/&gt;</span></span>
...
<span class="sc3"><span class="re1">&lt;/entidad<span class="re2">&gt;</span></span></span></pre>

La interfaz gráfica tendrá el siguiente aspecto (vínculo para modificar <em>nuevo en v2.0.4</em>):<br />
<img src="files/view_es120.jpg" alt="view_es120.jpg" title="view_es120.jpg" /><br />
<h3 id="toc13"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Escoger vista"></a>Escoger vista</h3>
 La modificación más sencilla sería especificar que vista del objeto referenciado queremos usar:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;factura&quot;</span> <span class="re0">vista</span>=<span class="st0">&quot;Simple&quot;</span><span class="re2">/&gt;</span></span></pre>

Para esto en el componente Factura tenemos que tener una vista llamada simple:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;componente</span> <span class="re0">nombre</span>=<span class="st0">&quot;Factura&quot;</span><span class="re2">&gt;</span></span>
...
    <span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Simple&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
            año, numero, fecha, descuentoAño;
        <span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span>
...
<span class="sc3"><span class="re1">&lt;/componente<span class="re2">&gt;</span></span></span></pre>

Y así en lugar de usar la vista de la Factura por defecto, que supuestamente sacará toda la información, visualizará ésta:<br />
<img src="files/view_es130.jpg" alt="view_es130.jpg" title="view_es130.jpg" /><br />
<h3 id="toc14"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Personalizar el enmarcado"></a>Personalizar el enmarcado</h3>
 Si combinamos <em>marco=&quot;false&quot;</em> con un grupo podemos agrupar visualmente una propiedad que no forma parte de la referencia, por ejemplo:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;comercial&quot;</span> <span class="re0">marco</span>=<span class="st0">&quot;false&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
...
    <span class="sc3"><span class="re1">&lt;grupo</span> <span class="re0">nombre</span>=<span class="st0">&quot;comercial&quot;</span><span class="re2">&gt;</span></span>
        comercial;
        relacionConComercial;
    <span class="sc3"><span class="re1">&lt;/grupo<span class="re2">&gt;</span></span></span>
...
<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span></pre>

Así obtendríamos:<br />
<img src="files/view_es140.jpg" alt="view_es140.jpg" title="view_es140.jpg" /><br />
<h3 id="toc15"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Acción de búsqueda propia"></a>Acción de búsqueda propia</h3>
 El usuario puede buscar un nuevo valor para la referencia simplemente tecleando el código y al salir del editor recupera el valor correspondiente; por ejemplo, si el usuario teclea &quot;1&quot; en el campo del código de comercial, el nombre (y demás datos) del comercial &quot;1&quot; serán automáticamente rellenados. También podemos pulsar la linternita, en ese caso vamos a una lista en donde podemos filtrar, ordenar, etc, y marcar el objeto deseado.<br />
Para definir nuestra propia rutina de búsqueda podemos usar <em>&lt;accion-buscar/&gt;</em>, como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;comercial&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-buscar</span> <span class="re0">accion</span>=<span class="st0">&quot;MiReferencia.buscar&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span></pre>

Ahora al pulsar la linternita ejecuta nuestra acción, la cual tenemos que tener definida en <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;MiReferencia&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;buscar&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.MiAccionBuscar&quot;</span></span>
<span class="sc3">        <span class="re0">imagen</span>=<span class="st0">&quot;images/search.gif&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_referenceSubview&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_tab&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_currentReferenceLabel&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
    ...
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

Lo que hagamos en <em>MiAccionBuscar</em> ya es cosa nuestra. Podemos, por ejemplo, refinar la acción por defecto de búsqueda para filtrar la lista usada para buscar, como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
&nbsp;
<span class="kw2">public</span> <span class="kw2">class</span> MiAccionBuscar <span class="kw2">extends</span> ReferenceSearchAction <span class="br0">&#123;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw2">super</span>.<span class="me1">execute</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>    <span class="co1">// El comportamiento por defecto para buscar</span>
        getTab<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setBaseCondition</span><span class="br0">&#40;</span><span class="st0">&quot;${codigo} &lt; 3&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span> <span class="co1">// Añadir un filtro a la lista</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

Veremos más acerca de las acciones en el <a class="wiki_link" href="controllers_es.html">capítulo sobre los controladores</a>.<br />
<h3 id="toc16"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Acción de creación propia"></a>Acción de creación propia</h3>
 Si no hemos puesto <em>crear=&quot;false&quot;</em> el usuario tendrá un vínculo para poder crear un nuevo objeto. Por defecto muestra la vista por defecto del componente referenciado y permite introducir valores y pulsar un botón para crearlo. Si queremos podemos definir nuestras propias acciones (entre ellas la de crear) en el formulario a donde se va para crear uno nuevo, para esto hemos de tener un controlador llamado como el componente con el sufijo Creation. Si OpenXava ve que existe un controlador así lo usa en vez del de por defecto para permitir crear un nuevo objeto desde una referencia. Por ejemplo, podemos poner en nuestro <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc-1">&lt;!--</span>
<span class="sc-1">Puesto que su nombre es AlmacenCreation (nombre modelo + Creation) es usado</span>
<span class="sc-1">por defecto para crear desde referencias, en vez de NewCreation.</span>
<span class="sc-1">La accion 'new' es ejecutada automáticamente.</span>
<span class="sc-1">--&gt;</span>
<span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;AlmacenCreation&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;hereda-de</span> <span class="re0">controlador</span>=<span class="st0">&quot;NewCreation&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;new&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.actions.CrearNuevoAlmacenDesdeReferencia&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

En este caso cuando en una referencia a <em>Almacen</em> pulsemos el vínculo 'crear' irá a la vista por defecto de <em>Almacen</em> y mostrará las acciones de <em>AlmacenCreation</em>.<br />
Sí tenemos una acción <em>new</em>, ésta se ejecuta automáticamente antes de nada, la podemos usar para iniciar la vista si lo necesitamos.<br />
<h3 id="toc17"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Acción de modificación propia (nuevo en v2.0.4)"></a>Acción de modificación propia <em>(nuevo en v2.0.4)</em></h3>
 Si no hemos puesto <em>modificar=&quot;false&quot;</em> el usuario tendrá un vínculo para poder actualizar el objeto actualmente referenciado. Por defecto muestra la vista por defecto del componente referenciado y permite modificar valores y pulsar un botón para actualizarlo. Si queremos podemos definir nuestras propias acciones (entre ellas la de actualizar) en el formulario a donde se va para modificar, para esto hemos de tener un controlador llamado como el componente con el sufijo <em>Modification</em>. Si OpenXava ve que existe un controlador así lo usa en vez del de por defecto para permitir modificar el objeto referenciado desde una referencia. Por ejemplo, podemos poner en nuestro <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc-1">&lt;!--</span>
<span class="sc-1">Dado que su nombre es AlmacenModification (nombre modelo + Modification) es usado</span>
<span class="sc-1">por defecto para modificar desde referencias, en lugar de Modification.</span>
<span class="sc-1">La acción 'search' se ejecuta automáticamente.</span>
<span class="sc-1">--&gt;</span>
<span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;AlmacenModification&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;hereda-de</span> <span class="re0">controlador</span>=<span class="st0">&quot;Modification&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;search&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.actions.ModificarAlmacenDesdeReferencia&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

En este caso cuando en una referencia a <em>Almacen</em> pulsemos el vínculo 'modificar' irá a la vista por defecto de <em>Almacen</em> y mostrará las acciones de <em>AlmacenModification</em>.<br />
Sí tenemos una acción search, ésta se ejecuta automáticamente antes de nada, la podemos usar para iniciar la vista con los datos del objeto actualmente referenciado.<br />
<h3 id="toc18"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Lista descripciones (combos)"></a>Lista descripciones (combos)</h3>
 Con <em>&lt;lista-descripciones/&gt;</em> podemos instruir a OpenXava para que visualice la referencia como una lista de descripciones (actualmente como un combo). Esto puede ser práctico cuando hay pocos valores y haya un nombre o descripción significativo. La sintaxis es:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;lista-descripciones</span></span>
<span class="sc3">    <span class="re0">propiedad-descripcion</span>=<span class="st0">&quot;propiedad&quot;</span>               &lt;!--  1 --<span class="re2">&gt;</span></span>
    propiedades-descripcion=&quot;propiedades&quot;           <span class="sc-1">&lt;!--  2 --&gt;</span>
    depende-de=&quot;depende&quot;                            <span class="sc-1">&lt;!--  3 --&gt;</span>
    condicion=&quot;condicion&quot;                           <span class="sc-1">&lt;!--  4 --&gt;</span>
    ordenado-por-clave=&quot;true|false&quot;                 <span class="sc-1">&lt;!--  5 --&gt;</span>
    orden=&quot;orden&quot;                                   <span class="sc-1">&lt;!--  6 --&gt;</span>
    formato-etiqueta=&quot;NORMAL|PEQUENA|SIN_ETIQUETA&quot;  <span class="sc-1">&lt;!--  7 --&gt;</span>
    mostrar-vista-referencia=&quot;true|false&quot;           <span class="sc-1">&lt;!--  8 Nuevo en v5.5 --&gt;</span>
    para-tabs=&quot;tab1,tab2,...&quot;                       <span class="sc-1">&lt;!--  9 Nuevo en v4m4 --&gt;</span>
    no-para-tabs=&quot;tab1,tab2,...&quot;                    <span class="sc-1">&lt;!-- 10 Nuevo en v4m4 --&gt;</span>
    estilo-etiqueta=&quot;estilo&quot;                        <span class="sc-1">&lt;!-- 11 Nuevo en v5.8 --&gt;</span>
/&gt;</pre>

<ol><li><strong>propiedad-descripcion</strong> (opcional): Indica que propiedad es la que tiene que aparecer en la lista, si no se especifica asume la propiedad <em>description</em>, <em>descripcion</em>, <em>name</em> o <em>nombre</em>. Si el objeto referencia no tiene ninguna propiedad llamada así entonces es obligado especificar aquí un nombre de propiedad.</li><li><strong>propiedad-descripciones</strong> (opcional): Como <em>propiedad-descripcion</em> (y además exclusiva con ella) pero permite poner una lista de propiedades separadas por comas. Al usuario le aparecen concatenadas.</li><li><strong>depende-de</strong> (opcional): Se usa junto con <em>condicion</em> para hacer que el contenido de la lista dependa del valor de otro miembro visualizado en la vista principal (si simplemente ponemos el nombre del miembro) o en la misma vista (si ponemos <em>this.</em> delante del nombre de miembro).</li><li><strong>condicion</strong> (opcional): Permite poner una condición (al estilo SQL) para filtrar los valores que aparecen en la lista de descripciones.</li><li><strong>ordenado-por-clave</strong> (opcional): Por defecto los datos salen ordenados por descripción, pero si ponemos está propiedad a true saldrán ordenados por clave.</li><li><strong>orden</strong> (opcional): Permite poner un orden (al estilo SQL) para los valores que aparecen en la lista de descripciones.</li><li><strong>formato-etiqueta</strong> (opcional): Forma en que se visualiza la etiqueta para esta referencia. Ver <a class="wiki_link" href="view-xml_es.html#toc7">formato-etiqueta para propiedades</a>.</li><li><strong>show-reference-view</strong> (opcional): <em>(Nuevo en v5.5)</em> Muestra un combo y una vista detalle de la referencia al mismo tiempo. La vista de la referencia es de solo lectura y sus valores cambian cuando el usuario cambia el combo. La vista usada es la que se especificada en <em>&lt;vista-referencia vista=&quot;&quot;&gt;</em>. El valor por defecto es <em>false</em>.</li><li><strong>para-tabs</strong> (opcional): <em>(Nuevo en v4m4)</em> Permite poner una lista de nombres de tabs entre comas. Si alguna de las propiedades de <em>descriptionProperties</em> se pone en alguno de esos tabs la propiedad se visualizará como una lista de descripciones para seleccionar en la parte del filtro.</li><li><strong>no-para-tabs</strong> (opcional): <em>(Nuevo en v4m4)</em> Permite poner una lista de nombres de tabs entre comas. Si alguna de las propiedades de <em>descriptionProperties</em> se pone en alguno de esos tabs la propiedad continuará visualizarándose como una propiedad plana en la parte del filtro.</li><li><strong>estilo-etiqueta</strong> (opcional): (<em>Nuevo en v5.8</em>) Estilo con el que se visualiza la etiqueta para esta propiedad. Por defecto están definidos los estilos 'bold-label', 'italic-label' y 'reverse-label'; cualquier otro estilo puede ser definido por el propio usuario (basta con incluirlo en custom.css).</li></ol>El uso más simple es:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;almacen&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;lista-descripciones</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span></pre>

Que haría que una referencia a <em>Almacen</em> se representara así:<br />
<img src="files/view_es150.jpg" alt="view_es150.jpg" title="view_es150.jpg" /><br />
En un principio saca todos los almacenes, aunque en realidad usa la <em>condicion-base</em> y filtro especificados en el tab por defecto de Almacen. Veremos como funcionan los <a class="wiki_link" href="tabs-xml_es.html">tabs en su capítulo</a>.<br />
Si queremos, por ejemplo, que se visualice un combo con las familias de productos y según la familia que se escoja se rellene el combo de las subfamilias, podemos hacer algo así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;familia&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;lista-descripciones</span> <span class="re0">ordenado-por-clave</span>=<span class="st0">&quot;true&quot;</span><span class="re2">/&gt;</span></span>      <span class="sc-1">&lt;!-- 1 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span>
&nbsp;
<span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;subfamilia&quot;</span> <span class="re0">crear</span>=<span class="st0">&quot;false&quot;</span><span class="re2">&gt;</span></span>  <span class="sc-1">&lt;!-- 2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;lista-descripciones</span></span>
<span class="sc3">        <span class="re0">propiedad-descripcion</span>=<span class="st0">&quot;descripcion&quot;</span>               &lt;!-- 3 --<span class="re2">&gt;</span></span>
        depende-de=&quot;familia&quot;                              <span class="sc-1">&lt;!-- 4 --&gt;</span>
        condicion=&quot;${familia.codigo} = ?&quot;                 <span class="sc-1">&lt;!-- 5 --&gt;</span>
        orden=&quot;${descripcion} desc&quot;/&gt;                     <span class="sc-1">&lt;!-- 6 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span></pre>

Se visualizarán 2 combos uno con todas las familias y otro vacío, y al seleccionar una familia el otro combo se rellenará con todas las subfamilias de esa familia.<br />
En el caso de <em>Familia</em> (1) se visualiza la propiedad <em>descripcion</em> de <em>Familia</em>, ya que si no lo indicamos por defecto visualiza una propiedad llamada 'descripcion' o 'nombre'. En este caso los datos aparecen ordenados por clave y no por descripción. En el caso de <em>Subfamilia</em> indicamos que no muestre el vínculo para crear una nueva subfamilia (2) y que la propiedad a visualizar es <em>descripcion</em> (aunque esto lo podríamos haber omitido). Con <em>depende-de</em> (4) hacemos que este combo dependa de la referencia familia, cuando cambia familia en la interfaz gráfica, rellenará esta lista de descripciones aplicando la condición de <em>condicion</em> (5) y enviando como argumento (para rellenar el interrogante) el nuevo valor de familia. Y las entradas están ordenadas descendentemente por descripción (6).<br />
En condicion y orden ponemos los nombres de las propiedades entre ${} y los argumentos como ?, los operadores de comparación son los de SQL.<br />
Podemos especificar una lista de propiedades para que aparezca como descripción:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;comercialAlternativo&quot;</span> <span class="re0">solo-lectura</span>=<span class="st0">&quot;true&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;lista-descripciones</span> <span class="re0">propiedades-descripcion</span>=<span class="st0">&quot;nivel.descripcion, nombre&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span></pre>

En este caso en el combo se visualizará una concatenación de la descripción del nivel y el nombre. Además vemos como podemos usar propiedades calificadas (<em>nivel.descripcion</em>) también.<br />
En el caso de poner una referencia <em>lista-descripciones</em> como <em>solo-lectura</em> se visualizará la descripción (en este caso <em>nivel.descripcion</em> + <em>nombre</em>) como si fuera una propiedad simple de texto y no como un combo.<br />
<h3 id="toc19"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Búsqueda de referencia al cambiar (new in v2.2.5)"></a>Búsqueda de referencia al cambiar <em>(new in v2.2.5)</em></h3>
 El usuario puede buscar el valor de una referencia simplemente tecleando su clave. Por ejemplo, si hay una referencia a <em>Subfamilia</em>, el usuario puede teclear el código de subfamilia y automáticamente se cargará la información de la subfamilia en la vista. Esto se hace usando una acción &quot;al cambiar&quot; que hace la búsqueda. Podemos especificar nuestra propia acción para buscar cuando la clave cambia usando <em>busqueda-al-cambiar</em>, justo así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;subfamilia&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;busqueda-al-cambiar</span> <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.BuscarAlCambiarSubfamilia&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span></pre>

Esta acción se ejecuta para realizar la búsqueda, en vez de la acción por defecto, cuando el usuario cambia el código de subfamilia.<br />
El código a ejecutar es:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 *
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> BuscarAlCambiarSubfamilia
    <span class="kw2">extends</span> OnChangeSearchAction <span class="br0">&#123;</span>  <span class="co1">// 1</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getValueInt</span><span class="br0">&#40;</span><span class="st0">&quot;codigo&quot;</span><span class="br0">&#41;</span> == <span class="nu0">0</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setValue</span><span class="br0">&#40;</span><span class="st0">&quot;codigo&quot;</span>, <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Integer.html"><span class="kw21">Integer</span></a><span class="br0">&#40;</span><span class="st0">&quot;1&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw2">super</span>.<span class="me1">execute</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

La acción implementa <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/IOnChangePropertyAction.html" rel="nofollow">IOnChangePropertyAction</a></em>, mediante <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/OnChangeSearchAction.html" rel="nofollow">OnChangeSearchAction</a></em> (1), aunque es una referencia. Recibe el cambio de la propiedad clave de la referencia; en este caso <em>subfamilia.codigo</em>.<br />
Este caso es un ejemplo de refinamiento del comportamiento de la búsqueda al cambiar, porque extiende de <em>OnChangeSearchAction</em>, que es la acción por defecto para buscar, y llama a <em>super.execute()</em>. También es posible hacer una acción al cambiar convencional (extendiendo de <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/OnChangePropertyBaseAction.html" rel="nofollow">OnChangePropertyBaseAction</a></em> por ejemplo) anulando completamente la lógica de búsqueda.<br />
<h3 id="toc20"><a name="Capítulo 3: Vista XML (clásico)-Vista referencia-Escoger un editor (referencia, nuevo in v3.1.3)"></a>Escoger un editor (referencia, <em>nuevo in v3.1.3</em>)</h3>
 Un editor visualiza la referencia al usuario y le permite editar su valor. Por defecto, el editor que OpenXava usa para las referencias una vista de detalle dentro de un marco (la forma estándar) o un a combo (si usas <em>@&lt;lista-descripciones/&gt;</em>), pero puedes especificar tu propio editor para una referencia concreta en un vista usando <em>&lt;vista-referencia ... editor= /&gt;</em>.<br />
Por ejemplo, si tienes una referencia a una entidad <em>Color</em> y la quieres visualizar en alguna vista particular de un componente usando una interfaz de usuario personalizada, como un grupo de botones radiales (radio buttons) con los colores disponibles. Puedes hacerlo de esta forma:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;color&quot;</span> <span class="re0">editor</span>=<span class="st0">&quot;ColorBotonesRadiales&quot;</span><span class="re2">/&gt;</span></span></pre>

En este caso se usará el editor <em>ColorBotonesRadiales</em> para visualizar y editar, en vez de la de por defecto. Tienes que definir el editor <em>Color</em><em>RadioButton</em> en el archivo <em>xava/editores.xml</em> de tu proyecto:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;editor</span> <span class="re0">nombre</span>=<span class="st0">&quot;ColorBotonesRadiales&quot;</span> <span class="re0">url</span>=<span class="st0">&quot;colorBotonesRadialesEditor.jsp&quot;</span><span class="re2">/&gt;</span></span></pre>

Además has de escribir el código JSP para tu editor en <em>colorBotonesRadialesEditor.jsp</em>.<br />
Esta característica es para cambiar el editor para una referencia concreta en una vista concreta de un componente. Si lo que quieres es cambiar un editor para todas las referencias a cierto tipo de entidad a nivel de aplicación entonces es mejor configurarlo usando el archivo <em>xava/editores.xml</em>.<br />
Veáse la sección <a class="wiki_link" href="customizing_es.html#toc4">Editores para referencias</a> del <a class="wiki_link" href="customizing_es.html">capítulo 9</a> para más detalles.<br />
<h2 id="toc21"><a name="Capítulo 3: Vista XML (clásico)-Vista colección"></a>Vista colección</h2>
 Sirve para refinar la presentación de una colección. Aquí su sintaxis:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span></span>
<span class="sc3">    <span class="re0">coleccion</span>=<span class="st0">&quot;coleccion&quot;</span>                   &lt;!--  1 --<span class="re2">&gt;</span></span>
    vista=&quot;vista&quot;                           <span class="sc-1">&lt;!--  2 --&gt;</span>
    solo-lectura=&quot;true|false&quot;               <span class="sc-1">&lt;!--  3 --&gt;</span>
    solo-edicion=&quot;true|false&quot;               <span class="sc-1">&lt;!--  4 --&gt;</span>
    crear-referencia=&quot;true|false&quot;           <span class="sc-1">&lt;!--  5 --&gt;</span>
    modificar-referencia=&quot;true|false&quot;       <span class="sc-1">&lt;!--  6  nuevo en v2.0.4 --&gt;</span>
    como-agregado=&quot;true|false&quot;              <span class="sc-1">&lt;!--  7  nuevo en v2.0.2 --&gt;</span>
    editor=&quot;nombreEditor&quot;                   <span class="sc-1">&lt;!--  8  nuevo en v3.1.3 --&gt;</span>
    plegada=&quot;true|false&quot;                    <span class="sc-1">&lt;!--  9  nuevo en v5.0 --&gt;</span>
&gt;
    <span class="sc3"><span class="re1">&lt;propiedades-lista</span> ... <span class="re2">/&gt;</span></span>               <span class="sc-1">&lt;!-- 10 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;condicion-lista-busqueda</span> ... <span class="re2">/&gt;</span></span>        <span class="sc-1">&lt;!-- 11  nuevo en v4m4 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;estilo-fila</span> ... <span class="re2">/&gt;</span></span>                     <span class="sc-1">&lt;!-- 12  nuevo en v2.2.2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-editar</span> ... <span class="re2">/&gt;</span></span>                   <span class="sc-1">&lt;!-- 13 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-ver</span> ... <span class="re2">/&gt;</span></span>                      <span class="sc-1">&lt;!-- 14 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-nuevo</span> ... <span class="re2">/&gt;</span></span>                    <span class="sc-1">&lt;!-- 15  nuevo en v2.0.2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-anadir</span> ... <span class="re2">/&gt;</span></span>                   <span class="sc-1">&lt;!-- 16  nuevo en v5.7 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-grabar</span> ... <span class="re2">/&gt;</span></span>                   <span class="sc-1">&lt;!-- 17  nuevo en v2.0.2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-ocultar-detalle</span> ... <span class="re2">/&gt;</span></span>          <span class="sc-1">&lt;!-- 18  nuevo en v2.0.2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-quitar</span> ... <span class="re2">/&gt;</span></span>                   <span class="sc-1">&lt;!-- 19  nuevo en v2.0.2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-quitar-seleccionados</span> ... <span class="re2">/&gt;</span></span>     <span class="sc-1">&lt;!-- 20  nuevo en v2.1 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-lista</span> ... <span class="re2">/&gt;</span></span> ...                <span class="sc-1">&lt;!-- 21 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-fila</span> ... <span class="re2">/&gt;</span></span> ...                 <span class="sc-1">&lt;!-- 22  nuevo en v4.6 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-detalle</span> ... <span class="re2">/&gt;</span></span> ...              <span class="sc-1">&lt;!-- 23 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;accion-al-seleccionar-elemento</span> ... <span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- 24  nuevo en v3.1.2 --&gt;</span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

<ol><li><strong>coleccion</strong> (obligado): Indica la colección de la que se quiere personalizar la presentación.</li><li><strong>vista</strong> (opcional): La vista del objeto referenciado que se ha de usar para representar el detalle. Por defecto usa la vista por defecto.</li><li><strong>solo-lectura</strong> (opcional): Por defecto false, si la ponemos a true solo podremos visualizar los elementos de la colección, no podremos ni añadir, ni borrar, ni modificar los elementos.</li><li><strong>solo-edicion</strong> (opcional): Por defecto false, si la ponemos a true podemos modificar los elementos existentes, pero no podemos añadir nuevos ni eliminar.</li><li><strong>crear-referencia</strong> (opcional): Por defecto true, si la ponemos a false el usuario final no tendrá el vínculo que le permite crear objetos del tipo del objeto referenciado. Esto solo aplica en el caso de colecciones de referencias a entidad.</li><li><strong>modificar-referencia</strong> (opcional): <em>(Nuevo en v2.0.4)</em> Por defecto true, si la ponemos a false el usuario final no tendrá el vínculo que le permite modificar objetos del tipo del objeto referenciado. Esto solo aplica en el caso de colecciones de referencias a entidad.</li><li><strong>como-agregado</strong> (opcional): <em>(Nuevo en v2.0.2)</em> Por defecto false. Por defecto las colecciones de agregados permiten al usuario crear y añadir elementos, mientras que las colecciones de entidades permiten solo escoger entidades existentes para añadir (o quitar) de la colección. Si ponemos <em>como-agregado</em> a true entonces la colección de entidades se comportan como una colección de agregados, permitiendo al usuario añadir objetos y editarlos directamente. No tiene efecto en el caso de una colección de agregados.</li><li><strong>editor</strong> (opcional): <em>(Nuevo en v3.1.3)</em> Nombre del editor a usar para visualizar la colección en esta vista. El editor tiene que estar declarado en <em>OpenXava/xava/default-editors.xml</em> o <em>xava/editores.xml</em> de nuestro proyecto.</li><li><strong>plegada</strong> (opcional): <em>(Nuevo en v5.0)</em> La collección se mostrará contraída. Visualmente significa que el marco que rodea a la vista de la collección se iniciará cerrado. Más tarde el usuario podrá establecer sus preferencias haciendo clic en el icono de expansión. El valor por defecto es false.</li><li><strong>propiedades-lista</strong> (una, opcional): Indica las propiedades que han de salir en la lista al visualizar la colección. Podemos calificar las propiedades. Por defecto saca todas las propiedades persistentes del objeto referenciado (sin incluir referencias ni calculadas). El sufijo + <em>(nuevo en v4.1)</em> se puede añadir a una propiedad para mostrar la <a class="wiki_link" href="tab_es.html#sumatorio-columna">suma de la columna, como en los tabs</a>. Antes de v5.9 el sumatorio de columnas no funcionaba en las colecciones calculadas. El sumatorio (+) no está disponible para propiedades calculadas en colecciones no calculadas.</li><li><strong>condicion-lista-busqueda</strong> (una, opcional): <em>(Nuevo en v4m4)</em> Condición a usar para la lista de elementos seleccionable susceptibles de ser añadidos a la colección. No aplica a colección embebidas.</li><li><strong>estilo-lista</strong> (varios, opcional): <em>(Nuevo en v2.2.2)</em> Para dar un estilo especial a algunas filas. Se comporta igual que en el caso del Tab. Para más detalles ver la <a class="wiki_link" href="tab-xml_es.html#toc1">sección sobre resaltar filas</a>. No funciona para colecciones calculadas.</li><li><strong>accion-editar</strong> (una, opcional): Permite sobreescribir la acción que inicia la edición de un elemento de la colección. Esta es la acción mostrada en cada fila cuando la colección es editable.</li><li><strong>accion-ver</strong> (una, opcional): Permite sobreescribir la acción para visualizar un elemento de la colección. Esta es la acción mostrada en cada fila cuando la colección es de solo lectura.</li><li><strong>accion-nuevo</strong> (una, opcional): <em>(Nuevo en v2.0.2)</em> Permite definir nuestra propia acción para empezar a crear un nuevo elemento y añadirlo en la colección. Ésta es la acción que se ejecuta al pulsar en el vínculo 'Nuevo'. <span style="background-color: #ffffff;">Antes de v5.7 esta anotación también se usaba para sobrescribir la acción 'Añadir', porque entonces no coexistían.</span></li><li><strong>accion-anadir</strong> (una, opcional): <em>(Nuevo en v5.7)</em> Permite definir nuestra propia acción para empezar a añadir un nuevo elemento a la colección escogiendo uno preexistente. Ésta es la acción que se ejecuta al pulsar en el vínculo 'Añadir'.</li><li><strong>accion-grabar</strong> (una, opcional): <em>(Nuevo en v2.0.2)</em> Permite definir nuestra propia acción para grabar el elemento de la colección. Ésta es la acción que se ejecuta al pulsar el vínculo 'Grabar detalle'.</li><li><strong>accion-ocultar-detalle</strong> (una, opcional): <em>(Nuevo en v2.0.2)</em> Permite definir nuestra propia acción para ocultar la vista de detalle. Ésta es la acción que se ejecuta al pulsar el vínculo 'Cerrar'.</li><li><strong>accion-quitar</strong> (una, opcional): <em>(Nuevo en v2.0.2)</em> Permite definir nuestra propia acción para borrar un elemento de la colección. Ésta es la acción que se ejecuta al pulsar en el vínculo 'Quitar detalle'.</li><li><strong>accion-quitar-seleccionados</strong> (una, opcional): <em>(Nuevo en v2.1)</em> Permite definir nuestra propia acción para quitar los elementos seleccionados de la colección. Ésta es la acción que se ejecuta al seleccionar algunas filas y pulsar en el vínculo 'Quitar seleccionados'.</li><li><strong>accion-lista</strong> (varias, opcional): Para poder añadir acciones en el modo lista; normalmente acciones cuyo alcance es la colección entera.</li><li><strong>accion-fila</strong> (varias, opcional): <em>(Nuevo en v4.6)</em> Para poder añadir acciones en el modo lista asociados a cada fila.</li><li><strong>accion-detalle</strong> (varias, opcional): Para poder añadir acciones en detalle, normalmente acciones cuyo alcance es el detalle que se está editando.</li><li><strong>accion-al-seleccionar-elemento</strong> (una, opcional): <em>(Nuevo en v3.1.2)</em> Para poder definir una acción a ser ejecutada cuando un elemento de la colección se selecciona o se deselecciona.</li></ol>Si no usamos <em>&lt;vista-coleccion/&gt;</em> una colección se visualiza usando las propiedades persistentes en el modo lista y la vista por defecto para representar el detalle; aunque lo más normal es indicar como mínimo que propiedades salen en la lista y que vista se ha de usar para representar el detalle:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;clientes&quot;</span> <span class="re0">vista</span>=<span class="st0">&quot;Simple&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;propiedades-lista<span class="re2">&gt;</span></span></span>
        codigo, nombre, observaciones,
        relacionConComercial, comercial.nivel.descripcion
    <span class="sc3"><span class="re1">&lt;/propiedades-lista<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

De esta forma la colección se visualiza así:<br />
<img src="files/view_es160.jpg" alt="view_es160.jpg" title="view_es160.jpg" /><br />
Podemos ver como en la lista de propiedades podemos poner propiedades calificadas (como <em>comercial.nivel.descripcion</em>).<br />
Al pulsar 'Editar' se visualizará el detalle usando la vista Simple de Cliente; para eso<br />
hemos de tener una vista llamada Simple en el componente Cliente (el modelo de los elementos de la colección).<br />
Este vista se usa también cuando el usuario pulsa en 'Añadir' en una colección de agregados, pero en el caso de una colección de entidades OpenXava no muestra esta vista, en su lugar muestra una lista de entidades a añadir <em>(nuevo en v2.2)</em>.<br />
Si la vista Simple de Cliente es así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Simple&quot;</span> <span class="re0">miembros</span>=<span class="st0">&quot;codigo; tipo; nombre; direccion&quot;</span><span class="re2">/&gt;</span></span></pre>

Al pulsar detalle aparecerá:<br />
<img src="files/view_es170.jpg" alt="view_es170.jpg" title="view_es170.jpg" /><br />
<h3 id="toc22"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Acción de editar/ver detalle propia"></a>Acción de editar/ver detalle propia</h3>
 Podemos refinar fácilmente el comportamiento cuando se pulse el vínculo 'Editar':<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;lineas&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-editar</span> <span class="re0">accion</span>=<span class="st0">&quot;Facturas.editarLinea&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

Hemos de definir <em>Facturas.editarLinea</em> en <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;Facturas&quot;</span><span class="re2">&gt;</span></span>
    ...
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;editarLinea&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.EditarLineaFactura&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
    ...
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

Y nuestra acción puede ser así:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">java.text.*</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> EditarLineaFactura <span class="kw2">extends</span> EditElementInCollectionAction <span class="br0">&#123;</span>  <span class="co1">// 1</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw2">super</span>.<span class="me1">execute</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/text/DateFormat.html"><span class="kw45">DateFormat</span></a> df = <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/text/SimpleDateFormat.html"><span class="kw45">SimpleDateFormat</span></a><span class="br0">&#40;</span><span class="st0">&quot;dd/MM/yyyy&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        getCollectionElementView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setValue</span><span class="br0">&#40;</span>                             <span class="co1">// 2</span>
            <span class="st0">&quot;observaciones&quot;</span>, <span class="st0">&quot;Editado el &quot;</span> + df.<span class="me1">format</span><span class="br0">&#40;</span><span class="kw2">new</span> java.<span class="me1">util</span>.<a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+Date"><span class="kw166">Date</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

En este caso queremos solamente refinar y por eso nuestra acción desciende de (1) <em>EditElementInCollectionAction</em>. Nos limitamos a poner un valor por defecto en la propiedad <em>observaciones</em>. Es de notar que para acceder a la vista que visualiza el detalle podemos usar el método <em>getCollectionElementView()</em> (2).<br />
También es posible eliminar la acción para editar de la interfaz de usuario <em>(nuevo en v2.2.1)</em>, de esta manera:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;lineas&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-editar</span> <span class="re0">accion</span>=<span class="st0">&quot;&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

Sólo necesitamos poner una cadena vacía como valor para la acción. Aunque en la mayoría de los casos es suficiente declarar la colección como de solo-lectura.<br />
La técnica para refinar una acción 'ver' (la acción para cada fila cuando la colección es de solo lectura) es la misma pero usando <em>&lt;accion-ver/&gt;</em> en vez de <em>&lt;accion-editar/&gt;</em>.<br />
<h3 id="toc23"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Acciones de lista y fila propias"></a>Acciones de lista y fila propias</h3>
 Podemos usar <em>&lt;accion-lista /&gt;</em> para definir acciones que apliquen a toda la colección y <em>&lt;accion-fila /&gt;</em> <em>(nuevas en v4.6)</em> para definir acciones para cada fila. <em>&lt;accion-lista /&gt;</em> y <em>&lt;accion-fila /&gt;</em> son muy parecidas, de hecho se pueden programar de la misma manera, la diferencia está en que las acciones <em>&lt;accion-lista /&gt;</em> se muestran en la barra de botones de la colección, mientras que las acciones <em>&lt;accion-fila /&gt;</em> aparecen en cada fila. Las acciones <em>&lt;accion-lista /&gt;</em> también pueden aparecer en cada fila si están definidas con <em>en-cada-fila=&quot;true&quot;</em> en <em>controladores.xml</em>.<br />
Un ejemplo:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;compañeros&quot;</span> <span class="re0">vista</span>=<span class="st0">&quot;Simple&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-lista</span> <span class="re0">accion</span>=<span class="st0">&quot;Transportistas.traducirNombre&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

Ahora aparece un nuevo vínculo al usuario:<br />
<img src="files/view_es180.jpg" alt="view_es180.jpg" title="view_es180.jpg" /><br />
Vemos además como ahora hay una casilla de chequeo en cada línea (desde v2.1.4 la casilla de chequeo está siempre presente en todas las colecciones).<br />
Falta definir la acción en <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;Transportistas&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;traducirNombre&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.TraducirNombreTransportista&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

Y el código de nuestra acción:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
<span class="kw2">import</span> <span class="co2">org.openxava.test.modelo.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> TraducirNombreTransportista <span class="kw2">extends</span> CollectionBaseAction <span class="br0">&#123;</span>  <span class="co1">// 1</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/Iterator.html"><span class="kw46">Iterator</span></a> it = getSelectedObjects<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">iterator</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>                   <span class="co1">// 2</span>
        <span class="kw1">while</span> <span class="br0">&#40;</span>it.<span class="me1">hasNext</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            ITransportista transportista = <span class="br0">&#40;</span>ITransportista<span class="br0">&#41;</span> it.<span class="me1">next</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            transportista.<span class="me1">traducir</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

La acción desciende de <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/CollectionBaseAction.html" rel="nofollow">CollectionBaseAction</a></em> (1), de esta forma tenemos a nuestra disposición métodos como <em>getSelectedObjects()</em> (2) que ofrece una colección de los objetos seleccionados por el usuario. Hay disponible otros métodos como <em>getObjects()</em> (todos los objetos de la colección), <em>getMapValues()</em> (los valores de la colección en formato de mapa) y getMapsSelectedValues() (los valores seleccionados de la colección en formato de mapa). En el caso de <em>&lt;accion-fila /&gt;,</em> <em>getSelectedObjects()</em> y <em>getMapsSelectedValues()</em> devuelven un único elemento, el correspondiente a la fila de la acción, incluso si la fila no está seleccionada.<br />
Como en el caso de la acciones de detalle (ver la siguiente sección) puedes usar <em>getCollectionElementView()</em>.<br />
También es posible usar <a class="wiki_link" href="controllers_es.html#toc5">acciones para el modo lista</a> como acciones de lista para una colección <em>(nuevo en v2.1.4)</em>.<br />
<h3 id="toc24"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Acciones de lista y fila por defecto (nuevo en v2.1.4)"></a>Acciones de lista y fila por defecto <em>(nuevo en v2.1.4)</em></h3>
 Si queremos añadir alguna acciones de lista a todas las colecciones de nuestra aplicación hemos de crear un controlador llamado <em>DefaultListActionsForCollections</em> en nuestro propio <em>xava/controladores.xml</em> como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;DefaultListActionsForCollections&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;hereda-de</span> <span class="re0">controlador</span>=<span class="st0">&quot;Print&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;exportarComoXML&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.ExportarComoXML&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

De esta forma todas las colecciones tendrán las acciones del controlador <em>Print</em> (para exportar a Excel y generar informes PDF) y nuestra propia acción <em>ExportarComoXML</em>. Esto tiene el mismo efecto que <em>&lt;accion-lista /&gt;</em> pero aplica a todas las colecciones a la vez.<br />
Si queremos definir lista de fila por defecto (<em>&lt;accion-fila /&gt;</em>) podemos definir el controlador <em>DefaultRowActionsForCollections (nuevo en v4.6)</em>.<br />
Esta característica no aplica a las colecciones calculadas <em>(nuevo en v2.2.1)</em>.<br />
<h3 id="toc25"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Acciones de detalle propias"></a>Acciones de detalle propias</h3>
 También podemos añadir nuestras propias acciones a la vista de detalle usada para editar cada elemento. Estas sería acciones que aplican a un solo elemento de la colección. Por ejemplo:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;lineas&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-detalle</span> <span class="re0">accion</span>=<span class="st0">&quot;Facturas.verProducto&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

Esto haría que el usuario tuviese a su disposición otro vínculo al editar el detalle:<br />
<img src="files/view_es190.jpg" alt="view_es190.jpg" title="view_es190.jpg" /><br />
Debemos definir la acción en <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;Facturas&quot;</span><span class="re2">&gt;</span></span>
    ...
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;verProducto&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.VerProductoDesdeLineaFactura&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xavatest_valoresFactura&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
    ...
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

Y el código de nuestra acción:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">java.util.*</span><span class="sy0">;</span>
<span class="kw2">import</span> <span class="co2">javax.ejb.*</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 * @author Javier Paniza
 */</span>
<span class="kw2">public</span> <span class="kw2">class</span> VerProductoDesdeLineaFactura
    <span class="kw2">extends</span> CollectionElementViewBaseAction                              <span class="co1">// 1</span>
    <span class="kw2">implements</span> INavigationAction <span class="br0">&#123;</span>
&nbsp;
    @Inject  <span class="co1">// A partir de v4m2</span>
    <span class="kw2">private</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/Map.html"><span class="kw46">Map</span></a> valoresFactura<span class="sy0">;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw2">try</span> <span class="br0">&#123;</span>
            setValoresFactura<span class="br0">&#40;</span>getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getValues</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            <a href="http://www.google.com/search?sitesearch=java.sun.com&amp;q=allinurl%3Aj2se%2F1+5+0%2Fdocs%2Fapi+Object"><span class="kw166">Object</span></a> codigo =
                getCollectionElementView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getValue</span><span class="br0">&#40;</span><span class="st0">&quot;producto.codigo&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>  <span class="co1">// 2</span>
            <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/Map.html"><span class="kw46">Map</span></a> clave = <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/HashMap.html"><span class="kw46">HashMap</span></a><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            clave.<span class="me1">put</span><span class="br0">&#40;</span><span class="st0">&quot;codigo&quot;</span>, codigo<span class="br0">&#41;</span><span class="sy0">;</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setModelName</span><span class="br0">&#40;</span><span class="st0">&quot;Producto&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>                          <span class="co1">// 3</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setValues</span><span class="br0">&#40;</span>clave<span class="br0">&#41;</span><span class="sy0">;</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">findObject</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setKeyEditable</span><span class="br0">&#40;</span><span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setEditable</span><span class="br0">&#40;</span><span class="kw4">false</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw2">catch</span> <span class="br0">&#40;</span>ObjectNotFoundException ex<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">clear</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            addError<span class="br0">&#40;</span><span class="st0">&quot;object_not_found&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        <span class="kw2">catch</span> <span class="br0">&#40;</span><a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> ex<span class="br0">&#41;</span> <span class="br0">&#123;</span>
            ex.<span class="me1">printStackTrace</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            addError<span class="br0">&#40;</span><span class="st0">&quot;system_error&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/String.html"><span class="kw21">String</span></a><span class="br0">&#91;</span><span class="br0">&#93;</span> getNextControllers<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">return</span> <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/String.html"><span class="kw21">String</span></a> <span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="br0">&#123;</span> <span class="st0">&quot;ProductoDesdeFactura&quot;</span> <span class="br0">&#125;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/String.html"><span class="kw21">String</span></a> getCustomView<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">return</span> SAME_VIEW<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/Map.html"><span class="kw46">Map</span></a> getValoresFactura<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        <span class="kw2">return</span> valoresFactura<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> setValoresFactura<span class="br0">&#40;</span><a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/util/Map.html"><span class="kw46">Map</span></a> map<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        valoresFactura = map<span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

Vemos como desciende de <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/CollectionElementViewBaseAction.html" rel="nofollow">CollectionElementViewBaseAction</a></em> (1) y así tiene disponible la vista que visualiza el elemento de la colección mediante <em>getCollectionElementView()</em> (2). También podemos acceder a la vista principal mediante <em>getView()</em> (3). En el <a class="wiki_link" href="controllers_es.html">capítulo sobre controladores</a> se ven más detalles acerca de como escribir acciones.<br />
Además, usando la vista devuelta por <em>getCollectionElementView()</em> podemos añadir y borrar programaticamente acciones de detalle y de lista <em>(nuevo en v2.0.2)</em> con <em>addDetailAction()</em>, <em>removeDetailAction()</em>, <em>addListAction()</em> y <em>removeListAction()</em>, ver API doc para <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/view/View.html" rel="nofollow">org.openxava.view.View</a></em>.<br />
<h3 id="toc26"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Refinar comportamiento por defecto para la vista de colección (nuevo en v2.0.2)"></a>Refinar comportamiento por defecto para la vista de colección <em>(nuevo en v2.0.2)</em></h3>
 Usando <em>&lt;accion-nuevo/&gt;</em>, <em>&lt;accion-anadir/&gt; (nuevo en v5.7)</em>, <em>&lt;accion-grabar/&gt;</em>, <em>&lt;accion-ocultar-detalle/&gt;</em>, <em>&lt;accion-quitar-seleccionados/&gt;</em> y <em>&lt;accion-quitar/&gt;</em> podemos refinar el comportamiento por defecto para una vista de colección. Por ejemplo, si queremos refinar el comportamiento de la acción de grabar un detalle podemos definir nuestra vista de esta forma:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;detalles&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-grabar</span> <span class="re0">accion</span>=<span class="st0">&quot;DetallesAlbaran.grabar&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

Debemos tener la acción <em>DetallesAlbaran.grabar</em> en <em>controladores.xml</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;DetallesAlbaran&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;grabar&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.GrabarDetalleAlbaran&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span></pre>

Y definir la clase acción para grabar:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">package</span> <span class="co2">org.openxava.test.acciones</span><span class="sy0">;</span>
&nbsp;
<span class="kw2">import</span> <span class="co2">org.openxava.actions.*</span><span class="sy0">;</span>
&nbsp;
<span class="co3">/**
 *
 * @author Javier Paniza
 */</span>
&nbsp;
<span class="kw2">public</span> <span class="kw2">class</span> GrabarDetalleAlbaran <span class="kw2">extends</span> SaveElementInCollectionAction <span class="br0">&#123;</span>  <span class="co1">// 1</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw2">super</span>.<span class="me1">execute</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="co1">// Aquí nuestro código                                             // 2</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

El caso más común es extender el comportamiento por defecto, para eso hemos de extender la clase original para grabar un detalle de una colección (1), esto es la acción <em>SaveElementInCollection</em>, entonces llamamos a super desde el método <em>execute()</em> (2), y después escribimos nuestro propio propio código.<br />
<em>Nuevo en v2.2.1:</em> También es posible eliminar cualquiera de estas acciones de la interfaz gráfica, por ejemplo, podemos defina una<br />
<em>&lt;vista-coleccion/&gt;</em> de esta manera:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;detalles&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-quitar-seleccionados</span> <span class="re0">accion</span>=<span class="st0">&quot;&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

En este caso la acción para quitar los elementos seleccionadas no aparecerá en la interfaz de usuario. Como se ve, sólo es necesario declarar una cadena vacía como nombre de la acción.<br />
<h3 id="toc27"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Acción cuando un elemento de la colección es seleccionado (nuevo en v3.1.2)"></a>Acción cuando un elemento de la colección es seleccionado <em>(nuevo en v3.1.2)</em></h3>
 Podemos definir una acción que se ejecute cuando un elemento de una colección se seleccione o deseleccione. Esto se consigue usando <em>&lt;accion-al-seleccionar-elemento/&gt;</em> en <em>&lt;vista-coleccion/&gt;</em>. Por ejemplo, supongamos que tenemos una colección como esta:<br />
<img src="files/view_es195.jpg" alt="view_es195.jpg" title="view_es195.jpg" /><br />
Y queremos que al seleccionar una fila el valor de el campo <em>cantidadIngredientesSeleccionados</em> se actualice en la interfaz de usuario. Vamos a ver como hacerlo.<br />
Primero hemos de declarar nuestra colección en <em>&lt;vista-coleccion/&gt;</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;ingredientes&quot;</span><span class="re2">&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;accion-al-seleccionar-elemento</span> <span class="re0">accion</span>=<span class="st0">&quot;Formula.alSeleccionarIngrediente&quot;</span><span class="re2">/&gt;</span></span>
<span class="sc3"><span class="re1">&lt;/vista-coleccion<span class="re2">&gt;</span></span></span></pre>

De esta manera tan sencilla (1) estamos diciendo que cuando el usuario haga click en la casilla de chequeo (checkbox) de la fila, la acción <em>Formula.alSeleccionarIngrediente</em> se ejecutará. Esta acción se declara en <em>controladores.xml</em>, de esta manera:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;controlador</span> <span class="re0">nombre</span>=<span class="st0">&quot;Formula&quot;</span><span class="re2">&gt;</span></span>
    ...
    <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">nombre</span>=<span class="st0">&quot;alSeleccionarIngredientes&quot;</span> <span class="re0">oculta</span>=<span class="st0">&quot;true&quot;</span></span>
<span class="sc3">        <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.acciones.AlSeleccionarIngrediente&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;usa-objeto</span> <span class="re0">nombre</span>=<span class="st0">&quot;xava_view&quot;</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- No obligatorio desde v4m2 --&gt;</span>
    <span class="sc3"><span class="re1">&lt;/accion<span class="re2">&gt;</span></span></span>
    ...
<span class="sc3"><span class="re1">&lt;/controlador<span class="re2">&gt;</span></span></span>
&nbsp;</pre>

Ahora, solo nos queda el código de la clase <em>AlSeleccionarIngrediente</em>:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.java5  {font-family:monospace;}
.java5 .imp {font-weight: bold; color: red;}
.java5 .kw1 {color: #000000;  font-weight: bold;}
.java5 .kw2 {color: #000000; font-weight: bold;}
.java5 .kw3 {color: #006600; font-weight: bold;}
.java5 .kw4 {color: #006600; font-weight: bold;}
.java5 .kw5 {color: #003399; font-weight: bold;}
.java5 .kw6 {color: #003399; font-weight: bold;}
.java5 .kw7 {color: #003399; font-weight: bold;}
.java5 .kw8 {color: #003399; font-weight: bold;}
.java5 .kw9 {color: #003399; font-weight: bold;}
.java5 .kw10 {color: #003399; font-weight: bold;}
.java5 .kw11 {color: #003399; font-weight: bold;}
.java5 .kw12 {color: #003399; font-weight: bold;}
.java5 .kw13 {color: #003399; font-weight: bold;}
.java5 .kw14 {color: #003399; font-weight: bold;}
.java5 .kw15 {color: #003399; font-weight: bold;}
.java5 .kw16 {color: #003399; font-weight: bold;}
.java5 .kw17 {color: #003399; font-weight: bold;}
.java5 .kw18 {color: #003399; font-weight: bold;}
.java5 .kw19 {color: #003399; font-weight: bold;}
.java5 .kw20 {color: #003399; font-weight: bold;}
.java5 .kw21 {color: #003399; font-weight: bold;}
.java5 .kw22 {color: #003399; font-weight: bold;}
.java5 .kw23 {color: #003399; font-weight: bold;}
.java5 .kw24 {color: #003399; font-weight: bold;}
.java5 .kw25 {color: #003399; font-weight: bold;}
.java5 .kw26 {color: #003399; font-weight: bold;}
.java5 .kw27 {color: #003399; font-weight: bold;}
.java5 .kw28 {color: #003399; font-weight: bold;}
.java5 .kw29 {color: #003399; font-weight: bold;}
.java5 .kw30 {color: #003399; font-weight: bold;}
.java5 .kw31 {color: #003399; font-weight: bold;}
.java5 .kw32 {color: #003399; font-weight: bold;}
.java5 .kw33 {color: #003399; font-weight: bold;}
.java5 .kw34 {color: #003399; font-weight: bold;}
.java5 .kw35 {color: #003399; font-weight: bold;}
.java5 .kw36 {color: #003399; font-weight: bold;}
.java5 .kw37 {color: #003399; font-weight: bold;}
.java5 .kw38 {color: #003399; font-weight: bold;}
.java5 .kw39 {color: #003399; font-weight: bold;}
.java5 .kw40 {color: #003399; font-weight: bold;}
.java5 .kw41 {color: #003399; font-weight: bold;}
.java5 .kw42 {color: #003399; font-weight: bold;}
.java5 .kw43 {color: #003399; font-weight: bold;}
.java5 .kw44 {color: #003399; font-weight: bold;}
.java5 .kw45 {color: #003399; font-weight: bold;}
.java5 .kw46 {color: #003399; font-weight: bold;}
.java5 .kw47 {color: #003399; font-weight: bold;}
.java5 .kw48 {color: #003399; font-weight: bold;}
.java5 .kw49 {color: #003399; font-weight: bold;}
.java5 .kw50 {color: #003399; font-weight: bold;}
.java5 .kw51 {color: #003399; font-weight: bold;}
.java5 .kw52 {color: #003399; font-weight: bold;}
.java5 .kw53 {color: #003399; font-weight: bold;}
.java5 .kw54 {color: #003399; font-weight: bold;}
.java5 .kw55 {color: #003399; font-weight: bold;}
.java5 .kw56 {color: #003399; font-weight: bold;}
.java5 .kw57 {color: #003399; font-weight: bold;}
.java5 .kw58 {color: #003399; font-weight: bold;}
.java5 .kw59 {color: #003399; font-weight: bold;}
.java5 .kw60 {color: #003399; font-weight: bold;}
.java5 .kw61 {color: #003399; font-weight: bold;}
.java5 .kw62 {color: #003399; font-weight: bold;}
.java5 .kw63 {color: #003399; font-weight: bold;}
.java5 .kw64 {color: #003399; font-weight: bold;}
.java5 .kw65 {color: #003399; font-weight: bold;}
.java5 .kw66 {color: #003399; font-weight: bold;}
.java5 .kw67 {color: #003399; font-weight: bold;}
.java5 .kw68 {color: #003399; font-weight: bold;}
.java5 .kw69 {color: #003399; font-weight: bold;}
.java5 .kw70 {color: #003399; font-weight: bold;}
.java5 .kw71 {color: #003399; font-weight: bold;}
.java5 .kw72 {color: #003399; font-weight: bold;}
.java5 .kw73 {color: #003399; font-weight: bold;}
.java5 .kw74 {color: #003399; font-weight: bold;}
.java5 .kw75 {color: #003399; font-weight: bold;}
.java5 .kw76 {color: #003399; font-weight: bold;}
.java5 .kw77 {color: #003399; font-weight: bold;}
.java5 .kw78 {color: #003399; font-weight: bold;}
.java5 .kw79 {color: #003399; font-weight: bold;}
.java5 .kw80 {color: #003399; font-weight: bold;}
.java5 .kw81 {color: #003399; font-weight: bold;}
.java5 .kw82 {color: #003399; font-weight: bold;}
.java5 .kw83 {color: #003399; font-weight: bold;}
.java5 .kw84 {color: #003399; font-weight: bold;}
.java5 .kw85 {color: #003399; font-weight: bold;}
.java5 .kw86 {color: #003399; font-weight: bold;}
.java5 .kw87 {color: #003399; font-weight: bold;}
.java5 .kw88 {color: #003399; font-weight: bold;}
.java5 .kw89 {color: #003399; font-weight: bold;}
.java5 .kw90 {color: #003399; font-weight: bold;}
.java5 .kw91 {color: #003399; font-weight: bold;}
.java5 .kw92 {color: #003399; font-weight: bold;}
.java5 .kw93 {color: #003399; font-weight: bold;}
.java5 .kw94 {color: #003399; font-weight: bold;}
.java5 .kw95 {color: #003399; font-weight: bold;}
.java5 .kw96 {color: #003399; font-weight: bold;}
.java5 .kw97 {color: #003399; font-weight: bold;}
.java5 .kw98 {color: #003399; font-weight: bold;}
.java5 .kw99 {color: #003399; font-weight: bold;}
.java5 .kw100 {color: #003399; font-weight: bold;}
.java5 .kw101 {color: #003399; font-weight: bold;}
.java5 .kw102 {color: #003399; font-weight: bold;}
.java5 .kw103 {color: #003399; font-weight: bold;}
.java5 .kw104 {color: #003399; font-weight: bold;}
.java5 .kw105 {color: #003399; font-weight: bold;}
.java5 .kw106 {color: #003399; font-weight: bold;}
.java5 .kw107 {color: #003399; font-weight: bold;}
.java5 .kw108 {color: #003399; font-weight: bold;}
.java5 .kw109 {color: #003399; font-weight: bold;}
.java5 .kw110 {color: #003399; font-weight: bold;}
.java5 .kw111 {color: #003399; font-weight: bold;}
.java5 .kw112 {color: #003399; font-weight: bold;}
.java5 .kw113 {color: #003399; font-weight: bold;}
.java5 .kw114 {color: #003399; font-weight: bold;}
.java5 .kw115 {color: #003399; font-weight: bold;}
.java5 .kw116 {color: #003399; font-weight: bold;}
.java5 .kw117 {color: #003399; font-weight: bold;}
.java5 .kw118 {color: #003399; font-weight: bold;}
.java5 .kw119 {color: #003399; font-weight: bold;}
.java5 .kw120 {color: #003399; font-weight: bold;}
.java5 .kw121 {color: #003399; font-weight: bold;}
.java5 .kw122 {color: #003399; font-weight: bold;}
.java5 .kw123 {color: #003399; font-weight: bold;}
.java5 .kw124 {color: #003399; font-weight: bold;}
.java5 .kw125 {color: #003399; font-weight: bold;}
.java5 .kw126 {color: #003399; font-weight: bold;}
.java5 .kw127 {color: #003399; font-weight: bold;}
.java5 .kw128 {color: #003399; font-weight: bold;}
.java5 .kw129 {color: #003399; font-weight: bold;}
.java5 .kw130 {color: #003399; font-weight: bold;}
.java5 .kw131 {color: #003399; font-weight: bold;}
.java5 .kw132 {color: #003399; font-weight: bold;}
.java5 .kw133 {color: #003399; font-weight: bold;}
.java5 .kw134 {color: #003399; font-weight: bold;}
.java5 .kw135 {color: #003399; font-weight: bold;}
.java5 .kw136 {color: #003399; font-weight: bold;}
.java5 .kw137 {color: #003399; font-weight: bold;}
.java5 .kw138 {color: #003399; font-weight: bold;}
.java5 .kw139 {color: #003399; font-weight: bold;}
.java5 .kw140 {color: #003399; font-weight: bold;}
.java5 .kw141 {color: #003399; font-weight: bold;}
.java5 .kw142 {color: #003399; font-weight: bold;}
.java5 .kw143 {color: #003399; font-weight: bold;}
.java5 .kw144 {color: #003399; font-weight: bold;}
.java5 .kw145 {color: #003399; font-weight: bold;}
.java5 .kw146 {color: #003399; font-weight: bold;}
.java5 .kw147 {color: #003399; font-weight: bold;}
.java5 .kw148 {color: #003399; font-weight: bold;}
.java5 .kw149 {color: #003399; font-weight: bold;}
.java5 .kw150 {color: #003399; font-weight: bold;}
.java5 .kw151 {color: #003399; font-weight: bold;}
.java5 .kw152 {color: #003399; font-weight: bold;}
.java5 .kw153 {color: #003399; font-weight: bold;}
.java5 .kw154 {color: #003399; font-weight: bold;}
.java5 .kw155 {color: #003399; font-weight: bold;}
.java5 .kw156 {color: #003399; font-weight: bold;}
.java5 .kw157 {color: #003399; font-weight: bold;}
.java5 .kw158 {color: #003399; font-weight: bold;}
.java5 .kw159 {color: #003399; font-weight: bold;}
.java5 .kw160 {color: #003399; font-weight: bold;}
.java5 .kw161 {color: #003399; font-weight: bold;}
.java5 .kw162 {color: #003399; font-weight: bold;}
.java5 .kw163 {color: #003399; font-weight: bold;}
.java5 .kw164 {color: #003399; font-weight: bold;}
.java5 .kw165 {color: #003399; font-weight: bold;}
.java5 .kw166 {color: #003399; font-weight: bold;}
.java5 .co1 {color: #666666; font-style: italic;}
.java5 .co2 {color: #006699;}
.java5 .co3 {color: #008000; font-style: italic; font-weight: bold;}
.java5 .coMULTI {color: #666666; font-style: italic;}
.java5 .es0 {color: #000099; font-weight: bold;}
.java5 .br0 {color: #009900;}
.java5 .sy0 {color: #339933;}
.java5 .st0 {color: #0000ff;}
.java5 .nu0 {color: #cc66cc;}
.java5 .me1 {color: #006633;}
.java5 .me2 {color: #006633;}
.java5 span.xtra { display:block; }

-->
</style><pre class="java5"><span class="kw2">public</span> <span class="kw2">class</span> AlSeleccionarIngrediente <span class="kw2">extends</span> OnSelectElementBaseAction <span class="br0">&#123;</span>  <span class="co1">// 1</span>
&nbsp;
    <span class="kw2">public</span> <span class="kw3">void</span> execute<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="kw2">throws</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Exception.html"><span class="kw21">Exception</span></a> <span class="br0">&#123;</span>
        <span class="kw3">int</span> size = getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">getValueInt</span><span class="br0">&#40;</span><span class="st0">&quot;cantidadIngredientesSeleccionados&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        size = isSelected<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="sy0">?</span> size + <span class="nu0">1</span> : size - <span class="nu0">1</span><span class="sy0">;</span>                         <span class="co1">// 2</span>
        getView<span class="br0">&#40;</span><span class="br0">&#41;</span>.<span class="me1">setValue</span><span class="br0">&#40;</span><span class="st0">&quot;cantidadIngredientesSeleccionados&quot;</span>, <span class="kw2">new</span> <a href="http://java.sun.com/j2se/1%2E5%2E0/docs/api/java/lang/Integer.html"><span class="kw21">Integer</span></a><span class="br0">&#40;</span>size<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
&nbsp;
<span class="br0">&#125;</span>
&nbsp;</pre>

La forma más fácil de implementar la acción es extendiendo de <em><a class="wiki_link_ext" href="http://www.openxava.org/OpenXavaDoc/apidocs/org/openxava/actions/OnSelectElementBaseAction.html" rel="nofollow">OnSelectElementBaseAction</a></em>, esto nos permite acceder a la propiedad <em>selected</em> (por medio de <em>isSelected()</em>, 2) que indica si el usuario ha seleccionado o deseleccionado la fila; y <em>row</em> (usando <em>getRow()</em>) que indica el número de fila del elemento de la colección afectado.<br />
<h3 id="toc28"><a name="Capítulo 3: Vista XML (clásico)-Vista colección-Escoger un editor (colecciones, nuevo in v3.1.3)"></a>Escoger un editor (colecciones, <em>nuevo in v3.1.3</em>)</h3>
 Un editor visualiza la colección al usuario y le permite editar su valor. Por defecto, el editor que OpenXava usa para las colecciones es una lista con los datos en formato tabular, que permite filtrar, ordenar, paginar, etc., pero puedes especificar tu propio editor para una colección concreta usando <em>&lt;vista-coleccion ... editor= /&gt;</em>.<br />
Por ejemplo, si tienes una colección de entidades <em>Cliente</em> y la quieres visualizar en alguna vista de un componente particular usando una interfaz de usuario personalizada, como una lista simple de nombres. Puedes hacerlo de esta forma:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista-coleccion</span> <span class="re0">coleccion</span>=<span class="st0">&quot;clientes&quot;</span> <span class="re0">editor</span>=<span class="st0">&quot;NombresClientes&quot;</span><span class="re2">/&gt;</span></span></pre>

En este caso se usará el editor <em>NombresClientes</em> para visualizar y editar, en vez de la de por defecto. Tienes que definir el editor <em>NombresClientes</em> en el archivo <em>xava/editores.xml</em> de tu proyecto:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;editor</span> <span class="re0">nombre</span>=<span class="st0">&quot;NombresClientes&quot;</span> <span class="re0">url</span>=<span class="st0">&quot;nombresClientesEditor.jsp&quot;</span><span class="re2">/&gt;</span></span></pre>

Además has de escribir el código JSP para tu editor en <em>nombresClientesEditor.jsp</em>.<br />
Esta característica es para cambiar el editor para una colección concreta en una vista concreta de un componente. Si lo que quieres es cambiar un editor para todas las colecciones a cierto tipo de componente a nivel de aplicación entonces es mejor configurarlo usando el archivo <em>xava/editores.xml</em>.<br />
Veáse la sección <a class="wiki_link" href="customizing_es.html#toc5">Editores para colecciones</a> del <a class="wiki_link" href="customizing_es.html">capítulo 9</a> para más detalles.<br />
<h2 id="toc29"><a name="Capítulo 3: Vista XML (clásico)-Propiedad de vista"></a>Propiedad de vista</h2>
 Poniendo <em>&lt;propiedad/&gt;</em> dentro de una vista podemos usar una propiedad que no existe en el modelo, pero que sí nos interesa que se visualice al usuario. Podemos usarlas para proporcionar controles al usuario para manejar la interfaz gráfica.<br />
Un ejemplo:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;vista<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;propiedad</span> <span class="re0">nombre</span>=<span class="st0">&quot;entregadoPor&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;valores-posibles<span class="re2">&gt;</span></span></span>
            <span class="sc3"><span class="re1">&lt;valor-posible</span> <span class="re0">valor</span>=<span class="st0">&quot;empleado&quot;</span><span class="re2">/&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;valor-posible</span> <span class="re0">valor</span>=<span class="st0">&quot;transportista&quot;</span><span class="re2">/&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;/valores-posibles<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;calculador-valor-defecto</span></span>
<span class="sc3">             <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.calculators.IntegerCalculator&quot;</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;poner</span> <span class="re0">propiedad</span>=<span class="st0">&quot;value&quot;</span> <span class="re0">valor</span>=<span class="st0">&quot;0&quot;</span><span class="re2">/&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;/calculador-valor-defecto<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/propiedad<span class="re2">&gt;</span></span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;vista-propiedad</span> <span class="re0">propiedad</span>=<span class="st0">&quot;entregadoPor&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;al-cambiar</span> <span class="re0">clase</span>=<span class="st0">&quot;org.openxava.test.actiones.AlCambiarEntregadoPor&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/vista-propiedad<span class="re2">&gt;</span></span></span>
    ...
<span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span></pre>

Podemos observar como la sintaxis es exactamente igual que en el caso de definir una propiedad en la parte del modelo, podemos incluso hacer que sea un <em>&lt;valores-posibles/&gt;</em> y que tenga un <em>&lt;calculador-valor-defecto/&gt;</em>. Después de haber definido la propiedad podemos usarla en la vista como una propiedad más, asignandole una propiedad <em>al-cambiar</em> por ejemplo y por supuesto poniendola en <em>&lt;miembros/&gt;</em>.<br />
<h2 id="toc30"><a name="Capítulo 3: Vista XML (clásico)-Acciones de la vista (nuevo en v2.0.3)"></a>Acciones de la vista <em>(nuevo en v2.0.3)</em></h2>
 Además de poder asociar acciones a una propiedad, referencia o colección, podemos tambien definir acciones arbitrarias en cualquier parte de nuestra vista. Para poder hacer esto se usa el elemento accion, de esta manera:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;miembros<span class="re2">&gt;</span></span></span>
    codigo;
    tipo;
    nombre, <span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">accion</span>=<span class="st0">&quot;Clientes.cambiarEtiquetaDeNombre&quot;</span><span class="re2">/&gt;</span></span>;
    ...
<span class="sc3"><span class="re1">&lt;/miembros<span class="re2">&gt;</span></span></span></pre>

El efecto visual sería:<br />
<img src="files/view_es200.jpg" alt="view_es200.jpg" title="view_es200.jpg" /><br />
Podemos ver el vínculo 'Cambiar nombre de etiqueta' que ejecutará la acción <em>Clientes.cambiarEtiquetaDeNombre</em> al pulsarlo.<br />
Si la vista contenedora de la acción no es editable, la acción no estará presente. Si queremos que la acción esté siempre activa, incluso si la vista no está editable, hemos de usar el atributo <em>siempre-activa</em>, como sigue:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;accion</span> <span class="re0">accion</span>=<span class="st0">&quot;Clientes.cambiarEtiquetaDeNombre&quot;</span> <span class="re0">siempre-activa</span>=<span class="st0">&quot;true&quot;</span><span class="re2">/&gt;</span></span></pre>

La forma normal de exponer las acciones al usuario es mediante los controladores (acciones en la barra), lo controladores son reutilizables entre vistas, pero puede que a veces necesitemos una acción específica a una vista, y queramos visualizarla dentro de la misma (no en la barra de botones), para estos casos el elemento accion puede ser útil.<br />
Podemos ver más acerca de las acciones en el <a class="wiki_link" href="controllers_es.html">capítulo sobre controladores</a>.<br />
<h2 id="toc31"><a name="Capítulo 3: Vista XML (clásico)-Componente transitorio: Solo para crear vistas (nuevo en v2.1.3)"></a>Componente transitorio: Solo para crear vistas <em>(nuevo en v2.1.3)</em></h2>
 En OpenXava no se puede tener vistas que no estén asociadas a un modelo. Así que si queremos dibujar una interfaz gráfica arbitraria, lo que hemos de hacer es crear un componente, declararlo transitorio <em>(nuevo en v2.1.3)</em> y a partir de él definir una vista.<br />
Un componente transitorio no está asociada a ninguna tabla de la base de datos, normalmente se usa solo para visualizar interfaces de usuario no relacionadas con ninguna tabla de la base de datos.<br />
Un ejemplo puede ser:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.xml  {font-family:monospace;}
.xml .imp {font-weight: bold; color: red;}
.xml .es0 {color: #000099; font-weight: bold;}
.xml .br0 {color: #66cc66;}
.xml .sy0 {color: #66cc66;}
.xml .st0 {color: #ff0000;}
.xml .sc-1 {color: #808080; font-style: italic;}
.xml .sc0 {color: #00bbdd;}
.xml .sc1 {color: #ddbb00;}
.xml .sc2 {color: #339933;}
.xml .sc3 {color: #009900;}
.xml .re0 {color: #000066;}
.xml .re1 {color: #000000; font-weight: bold;}
.xml .re2 {color: #000000; font-weight: bold;}
.xml span.xtra { display:block; }

-->
</style><pre class="xml"><span class="sc3"><span class="re1">&lt;?xml</span> <span class="re0">version</span>=<span class="st0">&quot;1.0&quot;</span> <span class="re0">encoding</span>=<span class="st0">&quot;ISO-8859-1&quot;</span><span class="re2">?&gt;</span></span>
&nbsp;
<span class="sc0">&lt;!DOCTYPE componente SYSTEM &quot;dtds/componente.dtd&quot;&gt;</span>
&nbsp;
<span class="sc-1">&lt;!--</span>
<span class="sc-1">    Ejemplo de componente OpenXava transitorio (no persistente).</span>
&nbsp;
<span class="sc-1">    Puede ser usado, por ejemplo, para visualizar un diálogo,</span>
<span class="sc-1">    o cualquier otra interfaz gráfica.</span>
<span class="sc-1">--&gt;</span>
&nbsp;
<span class="sc3"><span class="re1">&lt;componente</span> <span class="re0">nombre</span>=<span class="st0">&quot;FiltrarPorSubfamilia&quot;</span><span class="re2">&gt;</span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;entidad<span class="re2">&gt;</span></span></span>
        <span class="sc3"><span class="re1">&lt;referencia</span> <span class="re0">nombre</span>=<span class="st0">&quot;subfamilia&quot;</span> <span class="re0">modelo</span>=<span class="st0">&quot;Subfamilia2&quot;</span> <span class="re0">requerido</span>=<span class="st0">&quot;true&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/entidad<span class="re2">&gt;</span></span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Familia1&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;subfamilia&quot;</span> <span class="re0">crear</span>=<span class="st0">&quot;false&quot;</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;lista-descripciones</span> <span class="re0">condicion</span>=<span class="st0">&quot;${familia.codigo} = 1&quot;</span><span class="re2">/&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;Familia2&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;subfamilia&quot;</span> <span class="re0">crear</span>=<span class="st0">&quot;false&quot;</span><span class="re2">&gt;</span></span>
            <span class="sc3"><span class="re1">&lt;lista-descripciones</span> <span class="re0">condicion</span>=<span class="st0">&quot;${familia.codigo} = 2&quot;</span><span class="re2">/&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;/vista-referencia<span class="re2">&gt;</span></span></span>
    <span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;vista</span> <span class="re0">nombre</span>=<span class="st0">&quot;ConFormularioDeSubfamilia&quot;</span><span class="re2">&gt;</span></span>
        <span class="sc3"><span class="re1">&lt;vista-referencia</span> <span class="re0">referencia</span>=<span class="st0">&quot;subfamily&quot;</span> <span class="re0">buscar</span>=<span class="st0">&quot;false&quot;</span><span class="re2">/&gt;</span></span>
    <span class="sc3"><span class="re1">&lt;/vista<span class="re2">&gt;</span></span></span>
&nbsp;
    <span class="sc3"><span class="re1">&lt;transitorio</span><span class="re2">/&gt;</span></span>  <span class="sc-1">&lt;!-- 1 --&gt;</span>
&nbsp;
<span class="sc3"><span class="re1">&lt;/componente<span class="re2">&gt;</span></span></span></pre>

Para definir un componente como transitorio solo necesitamos poner <em>&lt;transitorio/&gt;</em> al final de la definición del componente (1), justo en la parte para los mapeos. No hemos de poner el mapeo ni declarar propiedades como clave.<br />
De esta forma podemos hacer un diálogo que puede servir, por ejemplo, para lanzar un listado de familias o productos filtrado por subfamilias.<br />
Podemos así tener un generador de cualquier tipo de interfaz gráficas sencillo y bastante flexible, aunque no queramos que la información visualizada sea persistente.
    </div>
  </body>
</html>