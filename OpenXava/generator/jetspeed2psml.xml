<?xml version="1.0"?>
<tl>&lt;?xml version="1.0" encoding="UTF-8"?&gt;

<declare import="java.util.*"/>
<declare import="org.openxava.util.*"/>
<declare import="org.openxava.application.meta.*"/>
<declare import="org.openxava.generators.*"/>

&lt;!-- Generated by OpenXava: <expr>new Date()</expr> --&gt;

<java>
String applicationName = properties.getProperty("arg3");
String moduleName = properties.getProperty("arg4");
String folder = properties.getProperty("arg5");
String group = Is.emptyString(folder)?applicationName:applicationName + "." + Strings.change(folder, "/", ".");
MetaModule module = MetaApplications.getMetaApplication(applicationName).getMetaModule(moduleName);
</java> 

&lt;page&gt;
	&lt;defaults
		skin="orange"
		layout-decorator="tigris"
		portlet-decorator="tigris"
	/&gt;
	&lt;title&gt;<expr>Strings.toCharSet(module.getName(), "UTF-8")</expr>&lt;/title&gt;
<java>	
Collection locales = Generators.getAvailableLocales("../" + applicationName + "/i18n");
for (Iterator it=locales.iterator(); it.hasNext();) {
	Locale locale = (Locale) it.next();
</java> 
	&lt;metadata name="title" xml:lang="<expr>locale</expr>"&gt;<expr>Strings.toCharSet(module.getLabel(locale), "UTF-8")</expr>&lt;/metadata&gt;
<java>
}
</java> 

	&lt;fragment id="<expr>applicationName</expr>::<expr>moduleName</expr>-layout" type="layout" name="jetspeed-layouts::VelocityOneColumn"&gt;

		&lt;fragment id="<expr>applicationName</expr>::<expr>moduleName</expr>" type="portlet" name="<expr>applicationName</expr>::<expr>moduleName</expr>"&gt;
			&lt;property layout="OneColumn" name="row" value="0" /&gt;
			&lt;property layout="OneColumn" name="column" value="0" /&gt;
		&lt;/fragment&gt;

	&lt;/fragment&gt;

	&lt;security-constraints&gt;
		&lt;security-constraint&gt;
			&lt;groups&gt;<expr>group</expr>&lt;/groups&gt;
			&lt;permissions&gt;view, edit&lt;/permissions&gt;
		&lt;/security-constraint&gt;
	&lt;/security-constraints&gt;

&lt;/page&gt;
</tl>