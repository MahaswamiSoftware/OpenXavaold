<?xml version="1.0"?>
<tl><declare import="org.openxava.util.*"/>
<declare import="org.openxava.model.meta.*"/>
<declare import="org.openxava.component.MetaComponent"/>

<java>
String packageName = properties.getProperty("arg3");
String componentName = properties.getProperty("arg4");
String aggregateName = properties.getProperty("arg5");

MetaAggregate metaAggregate = MetaComponent.get(componentName).getMetaAggregate(aggregateName);
String interfaces = metaAggregate.getInterfacesNames().isEmpty()?"":", " + metaAggregate.getImplements();
</java>

// File generated by OpenXava: <expr>new Date()</expr>
// Archivo generado por OpenXava: <expr>new Date()</expr>

// WARNING: NO EDIT
// OJO: NO EDITAR

package <expr>packageName</expr>;

import org.openxava.component.MetaComponent;
import org.openxava.model.meta.MetaModel;
import org.openxava.util.XavaException;

public class <expr>aggregateName</expr> implements java.io.Serializable<expr>interfaces</expr> {

	// Attributes/Atributos
<java>
Iterator itProperties = metaAggregate.getMetaProperties().iterator();	
while (itProperties.hasNext()) {	
	MetaProperty property = (MetaProperty) itProperties.next();	
	String attributeName = property.getName();
	String type = property.getTypeName();
</java> 
	private <expr>type</expr> <expr>attributeName</expr>;
<java>} //while </java>

<java>
Iterator itReferences = metaAggregate.getMetaReferences().iterator();	
while (itReferences.hasNext()) {	
	MetaReference ref = (MetaReference) itReferences.next();	
	String attributeName = ref.getName();
	String type = ref.getMetaModelReferenced().getInterfaceName();
</java> 
	private <expr>type</expr> <expr>attributeName</expr>;
<java>} //while </java>



	// Properties/Propiedades
<java>
itProperties = metaAggregate.getMetaProperties().iterator();	
while (itProperties.hasNext()) {	
	MetaProperty property = (MetaProperty) itProperties.next();	
	String attributeName = property.getName();
	String propertyName = Strings.firstUpper(attributeName);
	String type = property.getTypeName();
</java> 
	public <expr>type</expr> get<expr>propertyName</expr>() {
		return <expr>attributeName</expr>;
	}
	public void set<expr>propertyName</expr>(<expr>type</expr> new<expr>propertyName</expr>) {
		this.<expr>attributeName</expr> = new<expr>propertyName</expr>;
	}
	

<java>} //while </java>

	// References
		
<java>
itReferences = metaAggregate.getMetaReferences().iterator();	
while (itReferences.hasNext()) {	
	MetaReference ref = (MetaReference) itReferences.next();	
	String attributeName = ref.getName();
	String propertyName = Strings.firstUpper(attributeName);
	String type = ref.getMetaModelReferenced().getInterfaceName();
</java> 
	public <expr>type</expr> get<expr>propertyName</expr>() {
		return <expr>attributeName</expr>;
	}
	public void set<expr>propertyName</expr>(<expr>type</expr> new<expr>propertyName</expr>) {
		this.<expr>attributeName</expr> = new<expr>propertyName</expr>;
	}
<java>} //while </java>
	
	private MetaModel metaModel;
	public MetaModel getMetaModel() throws XavaException {
		if (metaModel == null) {
			metaModel = MetaComponent.get("<expr>componentName</expr>").getMetaAggregate("<expr>aggregateName</expr>");
		}
		return metaModel;
	}
	
}</tl>