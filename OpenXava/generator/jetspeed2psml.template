<?xml version="1.0" encoding="UTF-8"?>

#declare import="java.util.*"#
#declare import="org.openxava.util.*"#
#declare import="org.openxava.application.meta.*"#
#declare import="org.openxava.generators.*"#

<!-- Generated by OpenXava: #(new Date())# -->

# 
String applicationName = properties.getProperty("arg3");
String moduleName = properties.getProperty("arg4");
String folder = properties.getProperty("arg5");
String group = Is.emptyString(folder)?applicationName:applicationName + "." + Strings.change(folder, "/", ".");
MetaModule module = MetaApplications.getMetaApplication(applicationName).getMetaModule(moduleName);
# 

<page>
	<defaults
		skin="orange"
		layout-decorator="tigris"
		portlet-decorator="tigris"
	/>
	<title>#(Strings.toCharSet(module.getName(), "UTF-8"))#</title>
# 	
Collection locales = Generators.getAvailableLocales("../" + applicationName + "/i18n");
for (Iterator it=locales.iterator(); it.hasNext();) {
	Locale locale = (Locale) it.next();
# 
	<metadata name="title" xml:lang="#(locale)#">#(Strings.toCharSet(module.getLabel(locale), "UTF-8"))#</metadata>
# 
}
# 

	<fragment id="#(applicationName)#::#(moduleName)#-layout" type="layout" name="jetspeed-layouts::VelocityOneColumn">

		<fragment id="#(applicationName)#::#(moduleName)#" type="portlet" name="#(applicationName)#::#(moduleName)#">
			<property layout="OneColumn" name="row" value="0" />
			<property layout="OneColumn" name="column" value="0" />
		</fragment>

	</fragment>

	<security-constraints>
		<security-constraint>
			<groups>#(group)#</groups>
			<permissions>view, edit</permissions>
		</security-constraint>
	</security-constraints>

</page>
